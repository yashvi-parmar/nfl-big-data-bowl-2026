{"ast":null,"code":"var _jsxFileName = \"/Users/yashviparmar/nfl-viz/src/RouteComparisonVisualizer.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useEffect, useState, useMemo, useRef } from 'react';\n\n// --- Utility Functions (Normalize Name, Control Components) ---\n\n// Utility for image paths\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst normalizeName = name => {\n  if (!name) return '';\n  return name.toLowerCase().replace(/\\./g, '').replace(/[^a-z\\s-]/g, '').replace(/\\s+/g, '-');\n};\n\n// Range Slider Component\nconst RangeSlider = ({\n  label,\n  value,\n  min,\n  max,\n  step,\n  onChange\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex flex-col mb-4 p-3 bg-white rounded-lg shadow-sm border border-gray-100\",\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    className: \"text-sm font-semibold text-gray-700 mb-1\",\n    children: [label, \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"font-mono text-blue-600\",\n      children: value.toFixed(2)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 74\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n    type: \"range\",\n    min: min,\n    max: max,\n    step: step,\n    value: value,\n    onChange: e => onChange(+e.target.value),\n    className: \"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 17,\n  columnNumber: 3\n}, this);\n\n// Dropdown/Select Component\n_c = RangeSlider;\nconst Dropdown = ({\n  label,\n  value,\n  options,\n  onChange\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex flex-col mb-4 p-3 bg-white rounded-lg shadow-sm border border-gray-100\",\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    className: \"text-sm font-semibold text-gray-700 mb-1\",\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 7\n  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n    value: value,\n    onChange: e => onChange(e.target.value),\n    className: \"block w-full px-3 py-2 text-base border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",\n    children: options.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: opt.value,\n      children: opt.label\n    }, opt.value, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 7\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 33,\n  columnNumber: 5\n}, this);\n\n// --- Custom Hook for smooth transitions (Core Animation Logic) ---\n_c2 = Dropdown;\nconst useTransitionEffect = (targetValue, duration = 500) => {\n  _s();\n  const [currentValue, setCurrentValue] = useState(targetValue);\n  const animationRef = useRef();\n  useEffect(() => {\n    // If the value is not numeric (like a color string), just update it directly\n    if (isNaN(targetValue)) {\n      setCurrentValue(targetValue);\n      return;\n    }\n\n    // Cleanup previous animation frame\n    cancelAnimationFrame(animationRef.current);\n    const startValue = currentValue;\n    const startTime = performance.now();\n    const animate = time => {\n      const elapsed = time - startTime;\n      const progress = Math.min(1, elapsed / duration);\n\n      // Easing function (e.g., easeInOutQuad)\n      const easedProgress = progress < 0.5 ? 2 * progress * progress : -1 + (4 - 2 * progress) * progress;\n      const newValue = startValue + (targetValue - startValue) * easedProgress;\n      setCurrentValue(newValue);\n      if (progress < 1) {\n        animationRef.current = requestAnimationFrame(animate);\n      }\n    };\n    animationRef.current = requestAnimationFrame(animate);\n    return () => cancelAnimationFrame(animationRef.current);\n  }, [targetValue, duration]);\n  return currentValue;\n};\n\n// --- Player Node Component (To encapsulate the animation) ---\n_s(useTransitionEffect, \"l9QBIG6ukDcwduptDX9H6XnnZEc=\");\nconst PlayerNode = /*#__PURE__*/_s2(/*#__PURE__*/React.memo(_c3 = _s2(({\n  d,\n  xPos,\n  yPos,\n  hovered,\n  setHovered,\n  vizMode,\n  defaultColor\n}) => {\n  _s2();\n  const cleanId = `clip-${normalizeName(d.player)}`;\n  const diameter = d.radius * 2;\n  const initials = d.player.split(' ').map(n => n[0]).join('');\n\n  // Use the hook for smooth transition on the radius\n  const animatedRadius = useTransitionEffect(d.radius);\n  const animatedDiameter = animatedRadius * 2;\n\n  // Since colors are strings, we can't use the numeric hook easily.\n  // We'll use CSS transition for color.\n  const strokeColor = d.dynamicColor || defaultColor;\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    onMouseEnter: () => setHovered(d),\n    onMouseLeave: () => setHovered(null),\n    className: \"cursor-pointer transition-opacity duration-300\",\n    style: {\n      opacity: d.isHighlighted ? 1 : vizMode.maxDefSpeed < 100 ? 0.2 :\n      // Dim non-highlighted players when filter is active\n      hovered && hovered.player !== d.player ? 0.2 : 1\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n      children: /*#__PURE__*/_jsxDEV(\"clipPath\", {\n        id: cleanId,\n        children: /*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: xPos,\n          cy: yPos,\n          r: animatedRadius\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: xPos,\n      cy: yPos,\n      r: animatedRadius,\n      fill: \"#b8b8b8\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n      x: xPos,\n      y: yPos + 4,\n      textAnchor: \"middle\",\n      fontSize: animatedRadius * 0.8,\n      fontWeight: \"bold\",\n      fill: \"#444\",\n      style: {\n        pointerEvents: 'none'\n      },\n      children: initials\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"image\", {\n      xlinkHref: d.img,\n      x: xPos - animatedRadius,\n      y: yPos - animatedRadius,\n      width: animatedDiameter,\n      height: animatedDiameter,\n      preserveAspectRatio: \"xMidYMid slice\",\n      clipPath: `url(#${cleanId})`,\n      onError: e => {\n        e.target.style.display = 'none';\n        e.target.parentNode.querySelector('circle:first-child').style.display = 'block';\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: xPos,\n      cy: yPos,\n      r: animatedRadius,\n      fill: \"none\",\n      stroke: strokeColor,\n      strokeWidth: d.wos > d.exp ? 3 : 2,\n      filter: \"url(#dropShadow)\"\n      // Use CSS transition for color and stroke changes\n      ,\n      style: {\n        transition: 'stroke 500ms ease-in-out'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n      x: xPos,\n      y: yPos + animatedRadius + 12,\n      textAnchor: \"middle\",\n      fontSize: \"10\",\n      fontWeight: \"600\",\n      fill: \"#333\",\n      className: \"pointer-events-none\",\n      children: d.player\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this)]\n  }, d.player, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}, \"IOtEVvKPHcYNNgWazilJ/yovWuw=\", false, function () {\n  return [useTransitionEffect];\n})), \"IOtEVvKPHcYNNgWazilJ/yovWuw=\", false, function () {\n  return [useTransitionEffect];\n});\n_c4 = PlayerNode;\nconst WRSeparationMap = () => {\n  _s3();\n  const [data, setData] = useState([]);\n  const [hovered, setHovered] = useState(null);\n  const [minTargets, setMinTargets] = useState(50);\n\n  // 1. VIZ MODE STATE\n  const [vizMode, setVizMode] = useState({\n    sizeBy: 'targets',\n    colorBy: 'none',\n    maxDefSpeed: 100\n  });\n  useEffect(() => {\n    fetch('/data/elite_leaderboard3.csv').then(res => res.text()).then(text => {\n      const [header, ...rows] = text.trim().split('\\n');\n      const cols = header.split(',');\n      const parsed = rows.map(r => {\n        const v = r.split(',');\n        const row = {};\n        cols.forEach((c, i) => row[c] = v[i]);\n        if (!row.player_name) return null;\n        return {\n          player: row.player_name,\n          wos: +row.Advanced_WOS,\n          // X-axis (Created)\n          exp: +row.exp_sep_xgb,\n          // Y-axis (Expected)\n          targets: +row.play_id,\n          sep_at_arrival: +row.sep_at_arrival,\n          pass_length: +row.pass_length,\n          time_to_throw: +row.time_to_throw,\n          def_avg_speed: +row.def_avg_speed,\n          img: `/headshots/${normalizeName(row.player_name)}.jpg`\n        };\n      });\n      setData(parsed.filter(d => d && !isNaN(d.wos) && !isNaN(d.exp)));\n    });\n  }, []);\n\n  /* ----- Filtered and Processed Data Calculation ----- */\n  const processedData = useMemo(() => {\n    if (!data.length) return [];\n    let filtered = data.filter(d => d.targets >= minTargets);\n    const sizeBy = vizMode.sizeBy;\n    const colorBy = vizMode.colorBy;\n    const maxDefSpeed = vizMode.maxDefSpeed;\n\n    // Get stats for dynamic sizing/coloring\n    const allSizeVals = filtered.map(d => d[sizeBy]);\n    const sizeMin = Math.min(...allSizeVals);\n    const sizeMax = Math.max(...allSizeVals);\n\n    // Color scale for non-default mode (Blue to Red HSL)\n    const colorVals = filtered.map(d => d[colorBy] || 0); // Use 0 if data is null\n    const colorMin = Math.min(...colorVals);\n    const colorMax = Math.max(...colorVals);\n    return filtered.map(d => {\n      // DYNAMIC RENDERING LOGIC - SIZE\n      const normalizedSize = (d[sizeBy] - sizeMin) / (sizeMax - sizeMin);\n      const radius = Math.min(normalizedSize * 15 + 10, 30); // Base radius: 10, Max: 30\n\n      // DYNAMIC RENDERING LOGIC - COLOR\n      let dynamicColor = '';\n      if (colorBy !== 'none') {\n        const normalizedColor = (d[colorBy] - colorMin) / (colorMax - colorMin);\n        // HSL: H-300 (Blue/Low) to H-0 (Red/High)\n        const h = 300 - 300 * normalizedColor;\n        dynamicColor = `hsl(${h}, 70%, 50%)`;\n      }\n      return {\n        ...d,\n        radius,\n        dynamicColor,\n        isHighlighted: maxDefSpeed < 100 && d.def_avg_speed <= maxDefSpeed\n      };\n    });\n  }, [data, minTargets, vizMode]);\n  if (!data.length) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-10 text-center font-serif text-gray-500\",\n    children: \"Loading Chart...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 266,\n    columnNumber: 28\n  }, this);\n\n  /* ----- Config for Video Frame ----- */\n  const W = 1600;\n  const H = 900;\n  const P = 120;\n\n  // Stats for scales (based on *original* data)\n  const xs = data.map(d => d.wos);\n  const ys = data.map(d => d.exp);\n  const xMin = Math.min(...xs) - 0.1;\n  const xMax = Math.max(...xs) + 0.1;\n  const yMin = Math.min(...ys) - 0.1;\n  const yMax = Math.max(...ys) + 0.1;\n  const avgX = xs.reduce((a, b) => a + b, 0) / xs.length;\n  const avgY = ys.reduce((a, b) => a + b, 0) / ys.length;\n  const xScale = v => P + (v - xMin) / (xMax - xMin) * (W - P * 2);\n  const yScale = v => H - P - (v - yMin) / (yMax - yMin) * (H - P * 2);\n  const labelSize = 24;\n  const labelColor = '#4a5568';\n  const labelMargin = 25;\n  const targetsMax = Math.max(...data.map(d => d.targets));\n  const defSpeedMin = Math.floor(Math.min(...data.map(d => d.def_avg_speed)) * 10) / 10;\n  const defSpeedMax = Math.ceil(Math.max(...data.map(d => d.def_avg_speed)) * 10) / 10;\n\n  // Handler to update vizMode (for dropdowns)\n  const handleVizModeChange = (key, value) => {\n    setVizMode(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n\n  // Status message for the animated visual\n  const statusMessage = useMemo(() => {\n    let sizeMsg = `Size: ${vizMode.sizeBy === 'targets' ? 'Targets (Volume)' : 'Separation at Arrival'}`;\n    let colorMsg = `Color: ${vizMode.colorBy === 'none' ? 'Performance Delta (WOS > EXP)' : vizMode.colorBy.replace(/_/g, ' ')}`;\n    let filterMsg = vizMode.maxDefSpeed < 100 ? `(Highlighting Avg Def Speed < ${vizMode.maxDefSpeed.toFixed(2)})` : '';\n    return `${sizeMsg} | ${colorMsg} ${filterMsg}`;\n  }, [vizMode]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center bg-[#f4f1ea] p-8 rounded-xl shadow-2xl max-w-[1700px] mx-auto font-serif\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-4xl font-bold text-[#2c2c2c] uppercase tracking-wider\",\n        children: \"WR Separation Landscape (Animated)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-[#666] italic mt-1\",\n        children: \"Player metrics smoothly transition when situational factors are changed.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full flex justify-around mb-8 p-4 bg-gray-50 rounded-lg shadow-inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/5\",\n        children: /*#__PURE__*/_jsxDEV(RangeSlider, {\n          label: \"Minimum Targets\",\n          value: minTargets,\n          min: 1,\n          max: targetsMax,\n          step: 1,\n          onChange: setMinTargets\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/5\",\n        children: /*#__PURE__*/_jsxDEV(Dropdown, {\n          label: \"Node Size By\",\n          value: vizMode.sizeBy,\n          options: [{\n            value: 'targets',\n            label: 'Targets (Volume)'\n          }, {\n            value: 'sep_at_arrival',\n            label: 'Separation at Arrival'\n          }],\n          onChange: v => handleVizModeChange('sizeBy', v)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/5\",\n        children: /*#__PURE__*/_jsxDEV(Dropdown, {\n          label: \"Node Color By\",\n          value: vizMode.colorBy,\n          options: [{\n            value: 'none',\n            label: 'WOS > EXP (Default)'\n          }, {\n            value: 'time_to_throw',\n            label: 'Time to Throw'\n          }, {\n            value: 'pass_length',\n            label: 'Pass Length'\n          }],\n          onChange: v => handleVizModeChange('colorBy', v)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/5\",\n        children: /*#__PURE__*/_jsxDEV(RangeSlider, {\n          label: `Max Avg Def Speed (Highlight)`,\n          value: vizMode.maxDefSpeed,\n          min: defSpeedMin,\n          max: defSpeedMax,\n          step: 0.01,\n          onChange: v => handleVizModeChange('maxDefSpeed', v)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        width: W,\n        height: H,\n        className: \"border border-[#dcd9d0] bg-[#f9f7f1]\",\n        children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n          children: [/*#__PURE__*/_jsxDEV(\"filter\", {\n            id: \"noiseFilter\",\n            children: [/*#__PURE__*/_jsxDEV(\"feTurbulence\", {\n              type: \"fractalNoise\",\n              baseFrequency: \"0.8\",\n              numOctaves: \"3\",\n              stitchTiles: \"stitch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"feColorMatrix\", {\n              type: \"matrix\",\n              values: \"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 0.5 0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"feBlend\", {\n              mode: \"multiply\",\n              in2: \"SourceGraphic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"filter\", {\n            id: \"dropShadow\",\n            x: \"-20%\",\n            y: \"-20%\",\n            width: \"140%\",\n            height: \"140%\",\n            children: /*#__PURE__*/_jsxDEV(\"feDropShadow\", {\n              dx: \"2\",\n              dy: \"2\",\n              stdDeviation: \"2\",\n              floodColor: \"#000\",\n              floodOpacity: \"0.25\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n          width: W,\n          height: H,\n          fill: \"transparent\",\n          opacity: \"0.15\",\n          filter: \"url(#noiseFilter)\",\n          pointerEvents: \"none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: W - P - labelMargin,\n          y: P + labelSize + labelMargin,\n          textAnchor: \"end\",\n          fontSize: labelSize,\n          fill: labelColor,\n          fontWeight: \"bold\",\n          children: \"The Achievers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: W - P - labelMargin,\n          y: H - P - labelMargin,\n          textAnchor: \"end\",\n          fontSize: labelSize,\n          fill: \"#10b981\",\n          fontWeight: \"bold\",\n          children: \"The Creators\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: P + labelMargin,\n          y: P + labelSize + labelMargin,\n          textAnchor: \"start\",\n          fontSize: labelSize,\n          fill: \"#ef4444\",\n          fontWeight: \"bold\",\n          children: \"The Underperformers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: P + labelMargin,\n          y: H - P - labelMargin,\n          textAnchor: \"start\",\n          fontSize: labelSize,\n          fill: labelColor,\n          fontWeight: \"bold\",\n          children: \"The Baseline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: xScale(Math.max(xMin, yMin)),\n          y1: yScale(Math.max(xMin, yMin)),\n          x2: xScale(Math.min(xMax, yMax)),\n          y2: yScale(Math.min(xMax, yMax)),\n          stroke: \"#999\",\n          strokeWidth: \"2\",\n          strokeDasharray: \"6,6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: xScale(avgX),\n          y1: P,\n          x2: xScale(avgX),\n          y2: H - P,\n          stroke: \"#444\",\n          strokeWidth: \"1\",\n          strokeDasharray: \"4,4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: P,\n          y1: yScale(avgY),\n          x2: W - P,\n          y2: yScale(avgY),\n          stroke: \"#444\",\n          strokeWidth: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: W / 2,\n          y: H - 40,\n          textAnchor: \"middle\",\n          fontWeight: \"bold\",\n          fill: \"#333\",\n          className: \"uppercase tracking-widest text-lg\",\n          children: \"Created Separation (WOS)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: 40,\n          y: H / 2,\n          textAnchor: \"middle\",\n          fontWeight: \"bold\",\n          fill: \"#333\",\n          className: \"uppercase tracking-widest text-lg\",\n          transform: `rotate(-90, 40, ${H / 2})`,\n          children: \"Expected Separation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), [xMin, avgX, xMax].map((v, i) => /*#__PURE__*/_jsxDEV(\"text\", {\n          x: xScale(v),\n          y: H - P + 25,\n          textAnchor: \"middle\",\n          fill: \"#111\",\n          fontSize: \"14\",\n          children: v.toFixed(2)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 13\n        }, this)), [yMin, avgY, yMax].map((v, i) => /*#__PURE__*/_jsxDEV(\"text\", {\n          x: P - 15,\n          y: yScale(v),\n          textAnchor: \"end\",\n          fill: \"#111\",\n          fontSize: \"14\",\n          dy: \"0.3em\",\n          children: v.toFixed(2)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 13\n        }, this)), processedData.map(d => {\n          const xPos = xScale(d.wos);\n          const yPos = yScale(d.exp);\n          const isGood = d.wos > d.exp;\n          const defaultColor = isGood ? '#10b981' : '#ef4444';\n          return /*#__PURE__*/_jsxDEV(PlayerNode, {\n            d: d,\n            xPos: xPos,\n            yPos: yPos,\n            hovered: hovered,\n            setHovered: setHovered,\n            vizMode: vizMode,\n            defaultColor: defaultColor\n          }, d.player, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this), hovered && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute z-50 bg-white/95 backdrop-blur border border-stone-300 shadow-xl p-4 rounded min-w-[250px] pointer-events-none\",\n        style: {\n          left: xScale(hovered.wos) + 30,\n          top: yScale(hovered.exp) - 40\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-bold text-xl text-stone-800 border-b pb-1 mb-2\",\n          children: hovered.player\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-x-4 text-sm font-mono text-stone-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-black\",\n            children: \"Targets:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right font-bold text-black\",\n            children: hovered.targets\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 74\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-black\",\n            children: \"Expected Separation:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right\",\n            children: hovered.exp.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 86\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-black\",\n            children: \"Created Separation:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right text-emerald-600 font-bold\",\n            children: hovered.wos.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 85\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mt-2 col-span-2 text-stone-500 italic\",\n            children: \"Contextual Data:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Sep. at Arrival:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right\",\n            children: hovered.sep_at_arrival.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 71\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Pass Length:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right\",\n            children: hovered.pass_length.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 67\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Time to Throw:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right\",\n            children: hovered.time_to_throw.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 69\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Avg Def. Speed:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right\",\n            children: hovered.def_avg_speed.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 70\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full text-center mt-4 p-3 text-lg bg-gray-200/50 rounded-lg shadow-inner font-mono text-stone-700 transition duration-500\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-bold uppercase mr-3\",\n        children: \"Visualization Mode:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 10\n      }, this), \" \", statusMessage]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 310,\n    columnNumber: 5\n  }, this);\n};\n_s3(WRSeparationMap, \"IZQL8qRyMon0tpWCSU1ggaga5R8=\");\n_c5 = WRSeparationMap;\nexport default WRSeparationMap;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"RangeSlider\");\n$RefreshReg$(_c2, \"Dropdown\");\n$RefreshReg$(_c3, \"PlayerNode$React.memo\");\n$RefreshReg$(_c4, \"PlayerNode\");\n$RefreshReg$(_c5, \"WRSeparationMap\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","useRef","jsxDEV","_jsxDEV","normalizeName","name","toLowerCase","replace","RangeSlider","label","value","min","max","step","onChange","className","children","toFixed","fileName","_jsxFileName","lineNumber","columnNumber","type","e","target","_c","Dropdown","options","map","opt","_c2","useTransitionEffect","targetValue","duration","_s","currentValue","setCurrentValue","animationRef","isNaN","cancelAnimationFrame","current","startValue","startTime","performance","now","animate","time","elapsed","progress","Math","easedProgress","newValue","requestAnimationFrame","PlayerNode","_s2","memo","_c3","d","xPos","yPos","hovered","setHovered","vizMode","defaultColor","cleanId","player","diameter","radius","initials","split","n","join","animatedRadius","animatedDiameter","strokeColor","dynamicColor","onMouseEnter","onMouseLeave","style","opacity","isHighlighted","maxDefSpeed","id","cx","cy","r","fill","x","y","textAnchor","fontSize","fontWeight","pointerEvents","xlinkHref","img","width","height","preserveAspectRatio","clipPath","onError","display","parentNode","querySelector","stroke","strokeWidth","wos","exp","filter","transition","_c4","WRSeparationMap","_s3","data","setData","minTargets","setMinTargets","setVizMode","sizeBy","colorBy","fetch","then","res","text","header","rows","trim","cols","parsed","v","row","forEach","c","i","player_name","Advanced_WOS","exp_sep_xgb","targets","play_id","sep_at_arrival","pass_length","time_to_throw","def_avg_speed","processedData","length","filtered","allSizeVals","sizeMin","sizeMax","colorVals","colorMin","colorMax","normalizedSize","normalizedColor","h","W","H","P","xs","ys","xMin","xMax","yMin","yMax","avgX","reduce","a","b","avgY","xScale","yScale","labelSize","labelColor","labelMargin","targetsMax","defSpeedMin","floor","defSpeedMax","ceil","handleVizModeChange","key","prev","statusMessage","sizeMsg","colorMsg","filterMsg","baseFrequency","numOctaves","stitchTiles","values","mode","in2","dx","dy","stdDeviation","floodColor","floodOpacity","x1","y1","x2","y2","strokeDasharray","transform","isGood","left","top","_c5","$RefreshReg$"],"sources":["/Users/yashviparmar/nfl-viz/src/RouteComparisonVisualizer.jsx"],"sourcesContent":["import React, { useEffect, useState, useMemo, useRef } from 'react';\n\n// --- Utility Functions (Normalize Name, Control Components) ---\n\n// Utility for image paths\nconst normalizeName = (name) => {\n  if (!name) return '';\n  return name\n    .toLowerCase()\n    .replace(/\\./g, '')        \n    .replace(/[^a-z\\s-]/g, '') \n    .replace(/\\s+/g, '-');     \n};\n\n// Range Slider Component\nconst RangeSlider = ({ label, value, min, max, step, onChange }) => (\n  <div className=\"flex flex-col mb-4 p-3 bg-white rounded-lg shadow-sm border border-gray-100\">\n    <label className=\"text-sm font-semibold text-gray-700 mb-1\">{label}: <span className=\"font-mono text-blue-600\">{value.toFixed(2)}</span></label>\n    <input \n      type=\"range\"\n      min={min}\n      max={max}\n      step={step}\n      value={value}\n      onChange={(e) => onChange(+e.target.value)}\n      className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg\"\n    />\n  </div>\n);\n\n// Dropdown/Select Component\nconst Dropdown = ({ label, value, options, onChange }) => (\n    <div className=\"flex flex-col mb-4 p-3 bg-white rounded-lg shadow-sm border border-gray-100\">\n      <label className=\"text-sm font-semibold text-gray-700 mb-1\">{label}</label>\n      <select \n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        className=\"block w-full px-3 py-2 text-base border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n      >\n        {options.map(opt => (\n          <option key={opt.value} value={opt.value}>\n            {opt.label}\n          </option>\n        ))}\n      </select>\n    </div>\n);\n\n// --- Custom Hook for smooth transitions (Core Animation Logic) ---\n\nconst useTransitionEffect = (targetValue, duration = 500) => {\n  const [currentValue, setCurrentValue] = useState(targetValue);\n  const animationRef = useRef();\n\n  useEffect(() => {\n    // If the value is not numeric (like a color string), just update it directly\n    if (isNaN(targetValue)) {\n      setCurrentValue(targetValue);\n      return;\n    }\n    \n    // Cleanup previous animation frame\n    cancelAnimationFrame(animationRef.current);\n\n    const startValue = currentValue;\n    const startTime = performance.now();\n\n    const animate = (time) => {\n      const elapsed = time - startTime;\n      const progress = Math.min(1, elapsed / duration);\n      \n      // Easing function (e.g., easeInOutQuad)\n      const easedProgress = progress < 0.5 \n        ? 2 * progress * progress \n        : -1 + (4 - 2 * progress) * progress;\n        \n      const newValue = startValue + (targetValue - startValue) * easedProgress;\n\n      setCurrentValue(newValue);\n\n      if (progress < 1) {\n        animationRef.current = requestAnimationFrame(animate);\n      }\n    };\n\n    animationRef.current = requestAnimationFrame(animate);\n\n    return () => cancelAnimationFrame(animationRef.current);\n  }, [targetValue, duration]);\n\n  return currentValue;\n};\n\n// --- Player Node Component (To encapsulate the animation) ---\n\nconst PlayerNode = React.memo(({ d, xPos, yPos, hovered, setHovered, vizMode, defaultColor }) => {\n  const cleanId = `clip-${normalizeName(d.player)}`;\n  const diameter = d.radius * 2;\n  const initials = d.player.split(' ').map(n => n[0]).join('');\n  \n  // Use the hook for smooth transition on the radius\n  const animatedRadius = useTransitionEffect(d.radius);\n  const animatedDiameter = animatedRadius * 2;\n\n  // Since colors are strings, we can't use the numeric hook easily.\n  // We'll use CSS transition for color.\n  const strokeColor = d.dynamicColor || defaultColor;\n\n  return (\n    <g \n      key={d.player}\n      onMouseEnter={() => setHovered(d)}\n      onMouseLeave={() => setHovered(null)}\n      className=\"cursor-pointer transition-opacity duration-300\"\n      style={{ \n          opacity: d.isHighlighted ? 1 : \n                   vizMode.maxDefSpeed < 100 ? 0.2 : // Dim non-highlighted players when filter is active\n                   hovered && hovered.player !== d.player ? 0.2 : 1 \n      }}\n    >\n      <defs>\n        <clipPath id={cleanId}>\n          <circle cx={xPos} cy={yPos} r={animatedRadius} />\n        </clipPath>\n      </defs>\n\n      {/* 1. FALLBACK CIRCLE & INITIALS (if image fails) */}\n      <circle cx={xPos} cy={yPos} r={animatedRadius} fill=\"#b8b8b8\" />\n      <text \n          x={xPos} y={yPos + 4} textAnchor=\"middle\" \n          fontSize={animatedRadius * 0.8} fontWeight=\"bold\" fill=\"#444\" \n          style={{ pointerEvents: 'none' }} \n      >\n          {initials}\n      </text>\n\n      {/* 2. The Image (Clipped by the circle) */}\n      <image \n        xlinkHref={d.img} \n        x={xPos - animatedRadius} \n        y={yPos - animatedRadius} \n        width={animatedDiameter} \n        height={animatedDiameter} \n        preserveAspectRatio=\"xMidYMid slice\"\n        clipPath={`url(#${cleanId})`}\n        onError={(e) => { \n          e.target.style.display = 'none'; \n          e.target.parentNode.querySelector('circle:first-child').style.display = 'block';\n        }}\n      />\n\n      {/* 3. The Border Circle (Dynamic) */}\n      <circle \n        cx={xPos} cy={yPos} r={animatedRadius} fill=\"none\" \n        stroke={strokeColor} \n        strokeWidth={d.wos > d.exp ? 3 : 2}\n        filter=\"url(#dropShadow)\"\n        // Use CSS transition for color and stroke changes\n        style={{ transition: 'stroke 500ms ease-in-out' }} \n      />\n      \n      {/* 4. PLAYER NAME LABEL */}\n      <text\n        x={xPos}\n        y={yPos + animatedRadius + 12} \n        textAnchor=\"middle\"\n        fontSize=\"10\" \n        fontWeight=\"600\"\n        fill=\"#333\"\n        className=\"pointer-events-none\"\n      >\n        {d.player}\n      </text>\n    </g>\n  );\n});\n\n\nconst WRSeparationMap = () => {\n  const [data, setData] = useState([]);\n  const [hovered, setHovered] = useState(null);\n  const [minTargets, setMinTargets] = useState(50);\n  \n  // 1. VIZ MODE STATE\n  const [vizMode, setVizMode] = useState({ \n    sizeBy: 'targets', \n    colorBy: 'none', \n    maxDefSpeed: 100 \n  });\n\n\n  useEffect(() => {\n    fetch('/data/elite_leaderboard3.csv')\n      .then(res => res.text())\n      .then(text => {\n        const [header, ...rows] = text.trim().split('\\n');\n        const cols = header.split(',');\n\n        const parsed = rows.map(r => {\n          const v = r.split(',');\n          const row = {};\n          cols.forEach((c, i) => (row[c] = v[i]));\n          \n          if (!row.player_name) return null;\n\n          return {\n            player: row.player_name,\n            wos: +row.Advanced_WOS,    // X-axis (Created)\n            exp: +row.exp_sep_xgb,     // Y-axis (Expected)\n            targets: +row.play_id,\n            sep_at_arrival: +row.sep_at_arrival,\n            pass_length: +row.pass_length,\n            time_to_throw: +row.time_to_throw,\n            def_avg_speed: +row.def_avg_speed,\n            img: `/headshots/${normalizeName(row.player_name)}.jpg`\n          };\n        });\n\n        setData(parsed.filter(d => d && !isNaN(d.wos) && !isNaN(d.exp)));\n      });\n  }, []);\n\n  /* ----- Filtered and Processed Data Calculation ----- */\n  const processedData = useMemo(() => {\n    if (!data.length) return [];\n\n    let filtered = data.filter(d => d.targets >= minTargets);\n\n    const sizeBy = vizMode.sizeBy;\n    const colorBy = vizMode.colorBy;\n    const maxDefSpeed = vizMode.maxDefSpeed;\n\n    // Get stats for dynamic sizing/coloring\n    const allSizeVals = filtered.map(d => d[sizeBy]);\n    const sizeMin = Math.min(...allSizeVals);\n    const sizeMax = Math.max(...allSizeVals);\n    \n    // Color scale for non-default mode (Blue to Red HSL)\n    const colorVals = filtered.map(d => d[colorBy] || 0); // Use 0 if data is null\n    const colorMin = Math.min(...colorVals);\n    const colorMax = Math.max(...colorVals);\n    \n    return filtered.map(d => {\n      // DYNAMIC RENDERING LOGIC - SIZE\n      const normalizedSize = (d[sizeBy] - sizeMin) / (sizeMax - sizeMin);\n      const radius = Math.min(normalizedSize * 15 + 10, 30); // Base radius: 10, Max: 30\n\n      // DYNAMIC RENDERING LOGIC - COLOR\n      let dynamicColor = '';\n      if (colorBy !== 'none') {\n          const normalizedColor = (d[colorBy] - colorMin) / (colorMax - colorMin);\n          // HSL: H-300 (Blue/Low) to H-0 (Red/High)\n          const h = 300 - (300 * normalizedColor);\n          dynamicColor = `hsl(${h}, 70%, 50%)`;\n      }\n      \n      return {\n        ...d,\n        radius,\n        dynamicColor,\n        isHighlighted: maxDefSpeed < 100 && d.def_avg_speed <= maxDefSpeed\n      };\n    });\n  }, [data, minTargets, vizMode]);\n\n  if (!data.length) return <div className=\"p-10 text-center font-serif text-gray-500\">Loading Chart...</div>;\n\n  /* ----- Config for Video Frame ----- */\n  const W = 1600; \n  const H = 900;  \n  const P = 120; \n\n  // Stats for scales (based on *original* data)\n  const xs = data.map(d => d.wos);\n  const ys = data.map(d => d.exp);\n  const xMin = Math.min(...xs) - 0.1;\n  const xMax = Math.max(...xs) + 0.1;\n  const yMin = Math.min(...ys) - 0.1;\n  const yMax = Math.max(...ys) + 0.1;\n  const avgX = xs.reduce((a, b) => a + b, 0) / xs.length;\n  const avgY = ys.reduce((a, b) => a + b, 0) / ys.length;\n\n  const xScale = v => P + ((v - xMin) / (xMax - xMin)) * (W - P * 2);\n  const yScale = v => H - P - ((v - yMin) / (yMax - yMin)) * (H - P * 2);\n  \n  const labelSize = 24; \n  const labelColor = '#4a5568';\n  const labelMargin = 25;\n\n  const targetsMax = Math.max(...data.map(d => d.targets));\n  const defSpeedMin = Math.floor(Math.min(...data.map(d => d.def_avg_speed)) * 10) / 10;\n  const defSpeedMax = Math.ceil(Math.max(...data.map(d => d.def_avg_speed)) * 10) / 10;\n\n  // Handler to update vizMode (for dropdowns)\n  const handleVizModeChange = (key, value) => {\n    setVizMode(prev => ({ ...prev, [key]: value }));\n  };\n\n  // Status message for the animated visual\n  const statusMessage = useMemo(() => {\n    let sizeMsg = `Size: ${vizMode.sizeBy === 'targets' ? 'Targets (Volume)' : 'Separation at Arrival'}`;\n    let colorMsg = `Color: ${vizMode.colorBy === 'none' ? 'Performance Delta (WOS > EXP)' : vizMode.colorBy.replace(/_/g, ' ')}`;\n    let filterMsg = vizMode.maxDefSpeed < 100 ? `(Highlighting Avg Def Speed < ${vizMode.maxDefSpeed.toFixed(2)})` : '';\n    \n    return `${sizeMsg} | ${colorMsg} ${filterMsg}`;\n  }, [vizMode]);\n\n\n  return (\n    <div className=\"flex flex-col items-center bg-[#f4f1ea] p-8 rounded-xl shadow-2xl max-w-[1700px] mx-auto font-serif\">\n      \n      {/* Header Section */}\n      <div className=\"mb-6 text-center\">\n        <h2 className=\"text-4xl font-bold text-[#2c2c2c] uppercase tracking-wider\">WR Separation Landscape (Animated)</h2>\n        <p className=\"text-[#666] italic mt-1\">Player metrics smoothly transition when situational factors are changed.</p>\n      </div>\n\n      {/* --- CONTROLS PANEL --- */}\n      <div className=\"w-full flex justify-around mb-8 p-4 bg-gray-50 rounded-lg shadow-inner\">\n        \n        {/* Filter Slider: Minimum Targets (Affects which nodes appear) */}\n        <div className=\"w-1/5\">\n          <RangeSlider\n            label=\"Minimum Targets\"\n            value={minTargets}\n            min={1}\n            max={targetsMax}\n            step={1}\n            onChange={setMinTargets}\n          />\n        </div>\n\n        {/* Dynamic Sizing Dropdown (Affects size of nodes) */}\n        <div className=\"w-1/5\">\n          <Dropdown\n            label=\"Node Size By\"\n            value={vizMode.sizeBy}\n            options={[\n              { value: 'targets', label: 'Targets (Volume)' },\n              { value: 'sep_at_arrival', label: 'Separation at Arrival' },\n            ]}\n            onChange={(v) => handleVizModeChange('sizeBy', v)}\n          />\n        </div>\n\n        {/* Dynamic Coloring Dropdown (Affects color of nodes) */}\n        <div className=\"w-1/5\">\n          <Dropdown\n            label=\"Node Color By\"\n            value={vizMode.colorBy}\n            options={[\n              { value: 'none', label: 'WOS > EXP (Default)' },\n              { value: 'time_to_throw', label: 'Time to Throw' },\n              { value: 'pass_length', label: 'Pass Length' },\n            ]}\n            onChange={(v) => handleVizModeChange('colorBy', v)}\n          />\n        </div>\n\n        {/* Defensive Speed Filter/Highlight (Affects opacity of nodes) */}\n        <div className=\"w-1/5\">\n          <RangeSlider\n            label={`Max Avg Def Speed (Highlight)`}\n            value={vizMode.maxDefSpeed}\n            min={defSpeedMin}\n            max={defSpeedMax}\n            step={0.01}\n            onChange={(v) => handleVizModeChange('maxDefSpeed', v)}\n          />\n        </div>\n      </div>\n\n      {/* --- SVG CHART --- */}\n      <div className=\"relative\">\n        <svg width={W} height={H} className=\"border border-[#dcd9d0] bg-[#f9f7f1]\">\n          \n          {/* ... (Background, Defs, Quadrant Labels, Axes remain the same) ... */}\n          <defs>\n            <filter id=\"noiseFilter\">\n              <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.8\" numOctaves=\"3\" stitchTiles=\"stitch\"/>\n              <feColorMatrix type=\"matrix\" values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 0.5 0\"/>\n              <feBlend mode=\"multiply\" in2=\"SourceGraphic\" />\n            </filter>\n            <filter id=\"dropShadow\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\n              <feDropShadow dx=\"2\" dy=\"2\" stdDeviation=\"2\" floodColor=\"#000\" floodOpacity=\"0.25\" />\n            </filter>\n          </defs>\n          <rect width={W} height={H} fill=\"transparent\" opacity=\"0.15\" filter=\"url(#noiseFilter)\" pointerEvents=\"none\"/>\n\n          <text x={W - P - labelMargin} y={P + labelSize + labelMargin} textAnchor=\"end\" fontSize={labelSize} fill={labelColor} fontWeight=\"bold\">The Achievers</text>\n          <text x={W - P - labelMargin} y={H - P - labelMargin} textAnchor=\"end\" fontSize={labelSize} fill=\"#10b981\" fontWeight=\"bold\">The Creators</text>\n          <text x={P + labelMargin} y={P + labelSize + labelMargin} textAnchor=\"start\" fontSize={labelSize} fill=\"#ef4444\" fontWeight=\"bold\">The Underperformers</text>\n          <text x={P + labelMargin} y={H - P - labelMargin} textAnchor=\"start\" fontSize={labelSize} fill={labelColor} fontWeight=\"bold\">The Baseline</text>\n\n          <line \n            x1={xScale(Math.max(xMin, yMin))} y1={yScale(Math.max(xMin, yMin))} \n            x2={xScale(Math.min(xMax, yMax))} y2={yScale(Math.min(xMax, yMax))} \n            stroke=\"#999\" strokeWidth=\"2\" strokeDasharray=\"6,6\" \n          />\n\n          <line x1={xScale(avgX)} y1={P} x2={xScale(avgX)} y2={H-P} stroke=\"#444\" strokeWidth=\"1\" strokeDasharray=\"4,4\" />\n          <line x1={P} y1={yScale(avgY)} x2={W-P} y2={yScale(avgY)} stroke=\"#444\" strokeWidth=\"1\" />\n          \n          <text x={W/2} y={H - 40} textAnchor=\"middle\" fontWeight=\"bold\" fill=\"#333\" className=\"uppercase tracking-widest text-lg\">Created Separation (WOS)</text>\n          <text x={40} y={H/2} textAnchor=\"middle\" fontWeight=\"bold\" fill=\"#333\" className=\"uppercase tracking-widest text-lg\" transform={`rotate(-90, 40, ${H/2})`}>Expected Separation</text>\n          \n          {[xMin, avgX, xMax].map((v,i) => (\n            <text key={i} x={xScale(v)} y={H-P+25} textAnchor=\"middle\" fill=\"#111\" fontSize=\"14\">\n              {v.toFixed(2)}\n            </text>\n          ))}\n          \n          {[yMin, avgY, yMax].map((v,i) => (\n            <text key={i} x={P-15} y={yScale(v)} textAnchor=\"end\" fill=\"#111\" fontSize=\"14\" dy=\"0.3em\">\n              {v.toFixed(2)}\n            </text>\n          ))}\n\n\n          {/* --- Player Nodes (Using the animated PlayerNode component) --- */}\n          {processedData.map(d => {\n            const xPos = xScale(d.wos);\n            const yPos = yScale(d.exp);\n            const isGood = d.wos > d.exp;\n            const defaultColor = isGood ? '#10b981' : '#ef4444';\n\n            return (\n              <PlayerNode\n                key={d.player}\n                d={d}\n                xPos={xPos}\n                yPos={yPos}\n                hovered={hovered}\n                setHovered={setHovered}\n                vizMode={vizMode}\n                defaultColor={defaultColor}\n              />\n            );\n          })}\n        </svg>\n\n        {/* --- Hover Tooltip (Unchanged) --- */}\n        {hovered && (\n          <div \n            className=\"absolute z-50 bg-white/95 backdrop-blur border border-stone-300 shadow-xl p-4 rounded min-w-[250px] pointer-events-none\"\n            style={{ \n              left: xScale(hovered.wos) + 30, \n              top: yScale(hovered.exp) - 40 \n            }}\n          >\n            <div className=\"font-bold text-xl text-stone-800 border-b pb-1 mb-2\">{hovered.player}</div>\n            <div className=\"grid grid-cols-2 gap-x-4 text-sm font-mono text-stone-600\">\n              <span className=\"font-semibold text-black\">Targets:</span> <span className=\"text-right font-bold text-black\">{hovered.targets}</span>\n              <span className=\"font-semibold text-black\">Expected Separation:</span> <span className=\"text-right\">{hovered.exp.toFixed(2)}</span>\n              <span className=\"font-semibold text-black\">Created Separation:</span> <span className=\"text-right text-emerald-600 font-bold\">{hovered.wos.toFixed(2)}</span>\n              <span className=\"mt-2 col-span-2 text-stone-500 italic\">Contextual Data:</span>\n              <span className=\"font-semibold\">Sep. at Arrival:</span> <span className=\"text-right\">{hovered.sep_at_arrival.toFixed(2)}</span>\n              <span className=\"font-semibold\">Pass Length:</span> <span className=\"text-right\">{hovered.pass_length.toFixed(2)}</span>\n              <span className=\"font-semibold\">Time to Throw:</span> <span className=\"text-right\">{hovered.time_to_throw.toFixed(2)}</span>\n              <span className=\"font-semibold\">Avg Def. Speed:</span> <span className=\"text-right\">{hovered.def_avg_speed.toFixed(2)}</span>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* --- Explanation Bar (For Video/Presentation) --- */}\n      <div className=\"w-full text-center mt-4 p-3 text-lg bg-gray-200/50 rounded-lg shadow-inner font-mono text-stone-700 transition duration-500\">\n         <span className=\"font-bold uppercase mr-3\">Visualization Mode:</span> {statusMessage}\n      </div>\n    </div>\n  );\n};\n\nexport default WRSeparationMap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}