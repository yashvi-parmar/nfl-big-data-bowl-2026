{"ast":null,"code":"var _jsxFileName = \"/Users/yashviparmar/nfl-viz/src/RouteComparisonVisualizer.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\n\n// --- Feature Configuration ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FEATURE_CONFIG = {\n  'raw': {\n    label: 'Raw Separation Index',\n    sourceKey: 'exp',\n    isInverse: false\n  },\n  'exp_sep_xgb': {\n    label: 'Expected Separation (Contextualized)',\n    sourceKey: 'exp',\n    isInverse: false\n  },\n  'sep_at_arrival': {\n    label: 'Separation at Arrival',\n    sourceKey: 'sep_at_arrival',\n    isInverse: false\n  },\n  'pass_length': {\n    label: 'Average Pass Length',\n    sourceKey: 'pass_length',\n    isInverse: true\n  },\n  'time_to_throw': {\n    label: 'Average Time to Throw',\n    sourceKey: 'time_to_throw',\n    isInverse: true\n  },\n  'def_avg_speed': {\n    label: 'Avg Defender Speed',\n    sourceKey: 'def_avg_speed',\n    isInverse: true\n  }\n};\nconst FEATURES_ORDER = ['raw', 'sep_at_arrival', 'pass_length', 'time_to_throw', 'def_avg_speed', 'exp_sep_xgb'];\n\n// Utility for image paths\nconst normalizeName = name => {\n  if (!name) return '';\n  return name.toLowerCase().replace(/\\./g, '').replace(/[^a-z\\s-]/g, '').replace(/\\s+/g, '-');\n};\nconst RouteComparisonVisualizer = () => {\n  _s();\n  const [data, setData] = useState([]);\n  const [hovered, setHovered] = useState(null);\n  const [featurePhase, setFeaturePhase] = useState(FEATURES_ORDER[0]);\n  const [featureMinsMaxs, setFeatureMinsMaxs] = useState({});\n  const [loadingError, setLoadingError] = useState(null);\n  useEffect(() => {\n    const filePath = 'elite_leaderboard (2).csv';\n    fetch(filePath).then(res => {\n      if (!res.ok) {\n        throw new Error(`Failed to load data: ${res.status} ${res.statusText}. Check path: ${filePath}`);\n      }\n      return res.text();\n    }).then(text => {\n      // --- ULTIMATE ROBUST PARSING LOGIC ---\n\n      // 1. Remove BOM character if present\n      const cleanText = text.startsWith('\\uFEFF') ? text.substring(1) : text;\n\n      // 2. Split lines, handling various line endings (\\r\\n or \\n) and filter out empty lines\n      const lines = cleanText.trim().split(/\\r?\\n/).filter(line => line.trim() !== '');\n      if (lines.length < 2) {\n        throw new Error(\"CSV file contains no header or data rows.\");\n      }\n\n      // 3. Map and trim headers\n      const rawHeaders = lines[0].split(',');\n      const headers = rawHeaders.map(h => h.trim());\n      const parsed = lines.slice(1).map(line => {\n        const values = line.split(',');\n        const row = {};\n        if (values.length !== headers.length) {\n          // Skip badly formatted rows where column count doesn't match\n          return null;\n        }\n\n        // 4. Map and trim every value\n        headers.forEach((h, i) => {\n          row[h] = values[i] ? values[i].trim() : '';\n        });\n        if (!row.player_name || row.player_name === '') return null;\n\n        // 5. Robust numerical conversion and assignment (parseFloat handles whitespace better than +)\n        return {\n          player: row.player_name,\n          wos: parseFloat(row.Advanced_WOS),\n          exp: parseFloat(row.exp_sep_xgb),\n          targets: parseFloat(row.play_id),\n          // The play_id column is used as targets count\n          sep_at_arrival: parseFloat(row.sep_at_arrival),\n          pass_length: parseFloat(row.pass_length),\n          time_to_throw: parseFloat(row.time_to_throw),\n          def_avg_speed: parseFloat(row.def_avg_speed),\n          img: `/headshots/${normalizeName(row.player_name)}.jpg`\n        };\n      });\n\n      // 6. Final filtering based on NaN checks\n      const filteredData = parsed.filter(d => d && !isNaN(d.wos) && !isNaN(d.exp) && !isNaN(d.targets) && !isNaN(d.sep_at_arrival) && !isNaN(d.pass_length) && !isNaN(d.time_to_throw) && !isNaN(d.def_avg_speed));\n      if (filteredData.length === 0) {\n        const totalRowsAttempted = lines.length - 1;\n        const validHeaders = headers.join(', ');\n        throw new Error(`Data loaded but resulted in 0 valid player rows. (Attempted to parse ${totalRowsAttempted} data rows.) Check data integrity against required headers: ${validHeaders}`);\n      }\n      setData(filteredData);\n\n      // Calculate min/max for all features for universal scaling\n      const minsMaxs = {};\n      Object.keys(FEATURE_CONFIG).forEach(key => {\n        const sourceKey = FEATURE_CONFIG[key].sourceKey || key;\n        if (key !== 'raw' && filteredData.length > 0) {\n          const values = filteredData.map(d => d[sourceKey]);\n          minsMaxs[key] = {\n            min: Math.min(...values),\n            max: Math.max(...values)\n          };\n        }\n      });\n      setFeatureMinsMaxs(minsMaxs);\n    }).catch(error => {\n      console.error(\"Data loading failed:\", error);\n      setLoadingError(error.message);\n    });\n  }, []);\n  const handleNextPhase = () => {\n    const currentIndex = FEATURES_ORDER.indexOf(featurePhase);\n    const nextIndex = (currentIndex + 1) % FEATURES_ORDER.length;\n    setFeaturePhase(FEATURES_ORDER[nextIndex]);\n  };\n  const currentFeature = FEATURE_CONFIG[featurePhase];\n  const isContextRevealed = featurePhase === 'exp_sep_xgb';\n  if (loadingError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-10 text-center font-serif text-red-700 bg-red-100 rounded-lg shadow-inner max-w-md mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-bold text-lg mb-2\",\n        children: \"Error Loading Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm\",\n        children: loadingError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs mt-2 text-red-500\",\n        children: \"**CRITICAL CHECK**: Ensure `elite_leaderboard (2).csv` is in your project's `public/` directory (or equivalent static assets folder).\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }, this);\n  }\n  if (!data.length || Object.keys(featureMinsMaxs).length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-10 text-center font-serif text-gray-500\",\n      children: \"Loading Chart...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 12\n    }, this);\n  }\n\n  /* ----- Config for Video Frame ----- */\n  const W = 1600;\n  const H = 900;\n  const P = 120;\n\n  // Stats for scales (The Y-scale range must be consistent across all phases)\n  const xs = data.map(d => d.wos);\n  const ysExp = data.map(d => d.exp); // Only use exp for defining the visual Y-axis range\n\n  const xMin = Math.min(...xs) - 0.1;\n  const xMax = Math.max(...xs) + 0.1;\n  const yMin = Math.min(...ysExp) - 0.1;\n  const yMax = Math.max(...ysExp) + 0.1;\n  const avgX = xs.reduce((a, b) => a + b, 0) / xs.length;\n  const avgY = ysExp.reduce((a, b) => a + b, 0) / ysExp.length;\n  const xScale = v => P + (v - xMin) / (xMax - xMin) * (W - P * 2);\n  const yScale = v => H - P - (v - yMin) / (yMax - yMin) * (H - P * 2);\n  const labelSize = 24;\n  const labelColor = '#4a5568';\n\n  /**\n   * Calculates the target Y-value (in the data's domain [yMin, yMax]) \n   * based on the current feature and the player's data.\n   */\n  const getFeatureYValue = (d, featureKey) => {\n    if (featureKey === 'raw') {\n      return avgY;\n    }\n    const config = FEATURE_CONFIG[featureKey];\n    const sourceKey = config.sourceKey || featureKey;\n    const value = d[sourceKey];\n    const {\n      min,\n      max\n    } = featureMinsMaxs[featureKey];\n    if (min === max) return avgY;\n\n    // 1. Normalize the feature value to [0, 1] range\n    let normalized = (value - min) / (max - min);\n\n    // 2. Invert if low value is better (i.e., should map to a higher y-axis position)\n    if (config.isInverse) {\n      normalized = 1 - normalized;\n    }\n\n    // 3. Scale the normalized value to the plot's Y-domain [yMin, yMax]\n    const scaled = yMin + normalized * (yMax - yMin);\n    return scaled;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center bg-[#f4f1ea] p-8 rounded-xl shadow-2xl max-w-[1700px] mx-auto font-serif\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-4xl font-bold text-[#2c2c2c] uppercase tracking-wider\",\n        children: \"WR Separation Landscape\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-[#666] italic mt-1\",\n        children: \"Contextualizing Separation: An Interactive Trace\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleNextPhase,\n        className: `px-6 py-3 text-lg font-bold rounded-lg shadow-md transition-all duration-300 ${isContextRevealed ? 'bg-red-500 hover:bg-red-600 text-white' : 'bg-green-500 hover:bg-green-600 text-white'}`,\n        children: isContextRevealed ? 'Reset to Raw Separation' : `Advance Context: ${FEATURES_ORDER.indexOf(featurePhase) + 1} / ${FEATURES_ORDER.length}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-center mt-2 text-stone-600 font-mono\",\n        children: [\"Current Context: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-black\",\n          children: currentFeature.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        width: W,\n        height: H,\n        className: \"border border-[#dcd9d0] bg-[#f9f7f1]\",\n        children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n          children: [/*#__PURE__*/_jsxDEV(\"filter\", {\n            id: \"noiseFilter\",\n            children: [/*#__PURE__*/_jsxDEV(\"feTurbulence\", {\n              type: \"fractalNoise\",\n              baseFrequency: \"0.8\",\n              numOctaves: \"3\",\n              stitchTiles: \"stitch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"feColorMatrix\", {\n              type: \"matrix\",\n              values: \"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 0.5 0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"feBlend\", {\n              mode: \"multiply\",\n              in2: \"SourceGraphic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"filter\", {\n            id: \"dropShadow\",\n            x: \"-20%\",\n            y: \"-20%\",\n            width: \"140%\",\n            height: \"140%\",\n            children: /*#__PURE__*/_jsxDEV(\"feDropShadow\", {\n              dx: \"2\",\n              dy: \"2\",\n              stdDeviation: \"2\",\n              floodColor: \"#000\",\n              floodOpacity: \"0.25\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n          width: W,\n          height: H,\n          fill: \"transparent\",\n          opacity: \"0.15\",\n          filter: \"url(#noiseFilter)\",\n          pointerEvents: \"none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), isContextRevealed && /*#__PURE__*/_jsxDEV(\"g\", {\n          children: [/*#__PURE__*/_jsxDEV(\"text\", {\n            x: xScale(xMax),\n            y: yScale(yMax) + labelSize + 10,\n            textAnchor: \"end\",\n            fontSize: labelSize,\n            fill: labelColor,\n            fontWeight: \"bold\",\n            children: \"The Achievers (High WOS, High EXP)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: xScale(xMax),\n            y: yScale(yMin) - 10,\n            textAnchor: \"end\",\n            fontSize: labelSize,\n            fill: \"#10b981\",\n            fontWeight: \"bold\",\n            children: \"The Creators (High WOS, Low EXP)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: xScale(xMin),\n            y: yScale(yMax) + labelSize + 10,\n            textAnchor: \"start\",\n            fontSize: labelSize,\n            fill: \"#ef4444\",\n            fontWeight: \"bold\",\n            children: \"The Underperformers (Low WOS, High EXP)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: xScale(xMin),\n            y: yScale(yMin) - 10,\n            textAnchor: \"start\",\n            fontSize: labelSize,\n            fill: labelColor,\n            fontWeight: \"bold\",\n            children: \"The Baseline (Low WOS, Low EXP)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: xScale(Math.max(xMin, yMin)),\n          y1: yScale(Math.max(xMin, yMin)),\n          x2: xScale(Math.min(xMax, yMax)),\n          y2: yScale(Math.min(xMax, yMax)),\n          stroke: \"#999\",\n          strokeWidth: \"2\",\n          strokeDasharray: \"6,6\",\n          style: {\n            opacity: isContextRevealed ? 1 : 0.2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: xScale(avgX),\n          y1: P,\n          x2: xScale(avgX),\n          y2: H - P,\n          stroke: \"#444\",\n          strokeWidth: \"1\",\n          strokeDasharray: \"4,4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: P,\n          y1: yScale(avgY),\n          x2: W - P,\n          y2: yScale(avgY),\n          stroke: \"#444\",\n          strokeWidth: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: W / 2,\n          y: H - 40,\n          textAnchor: \"middle\",\n          fontWeight: \"bold\",\n          fill: \"#333\",\n          className: \"uppercase tracking-widest text-lg\",\n          children: \"Created Separation (WOS)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: 40,\n          y: H / 2,\n          textAnchor: \"middle\",\n          fontWeight: \"bold\",\n          fill: \"#333\",\n          className: \"uppercase tracking-widest text-lg\",\n          transform: `rotate(-90, 40, ${H / 2})`,\n          children: currentFeature.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), [xMin, avgX, xMax].map((v, i) => /*#__PURE__*/_jsxDEV(\"text\", {\n          x: xScale(v),\n          y: H - P + 25,\n          textAnchor: \"middle\",\n          fill: \"#111\",\n          fontSize: \"14\",\n          children: v.toFixed(2)\n        }, `x-${i}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this)), [yMin, avgY, yMax].map((v, i) => /*#__PURE__*/_jsxDEV(\"text\", {\n          x: P - 15,\n          y: yScale(v),\n          textAnchor: \"end\",\n          fill: \"#111\",\n          fontSize: \"14\",\n          dy: \"0.3em\",\n          children: featurePhase === 'raw' ? i === 1 ? 'Avg' : '' : v.toFixed(2)\n        }, `y-${i}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this)), data.map(d => {\n          const radius = Math.min(Math.sqrt(d.targets) * 3, 25);\n          const diameter = radius * 2;\n          const xPos = xScale(d.wos);\n          const yDataValue = getFeatureYValue(d, featurePhase);\n          const yPosScreen = yScale(yDataValue);\n          const yPosFinal = yScale(d.exp);\n          const cleanId = `clip-${normalizeName(d.player)}`;\n          const isGood = d.wos > d.exp;\n          const strokeColor = isGood ? '#10b981' : '#ef4444';\n          const strokeWidth = isGood ? 3 : 2;\n          const initials = d.player.split(' ').map(n => n[0]).join('');\n          return /*#__PURE__*/_jsxDEV(\"g\", {\n            onMouseEnter: () => setHovered(d),\n            onMouseLeave: () => setHovered(null),\n            className: \"cursor-pointer\",\n            style: {\n              // Use transform to smoothly transition the position (y-coordinate)\n              transform: `translate(0, ${yPosScreen - yPosFinal}px)`,\n              transition: 'transform 1.5s cubic-bezier(0.5, 0.1, 0.5, 1)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n              children: /*#__PURE__*/_jsxDEV(\"clipPath\", {\n                id: cleanId,\n                children: /*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: xPos,\n                  cy: yPosFinal,\n                  r: radius\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: xPos,\n              cy: yPosFinal,\n              r: radius,\n              fill: \"#b8b8b8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              x: xPos,\n              y: yPosFinal + 4,\n              textAnchor: \"middle\",\n              fontSize: radius * 0.8,\n              fontWeight: \"bold\",\n              fill: \"#444\",\n              style: {\n                pointerEvents: 'none'\n              },\n              children: initials\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"image\", {\n              xlinkHref: d.img,\n              x: xPos - radius,\n              y: yPosFinal - radius,\n              width: diameter,\n              height: diameter,\n              preserveAspectRatio: \"xMidYMid slice\",\n              clipPath: `url(#${cleanId})`,\n              onError: e => {\n                e.target.style.display = 'none';\n                e.target.parentNode.querySelector('circle:first-child').style.display = 'block';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: xPos,\n              cy: yPosFinal,\n              r: radius,\n              fill: \"none\",\n              stroke: strokeColor,\n              strokeWidth: strokeWidth,\n              filter: \"url(#dropShadow)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              x: xPos,\n              y: yPosFinal + radius + 12,\n              textAnchor: \"middle\",\n              fontSize: \"10\",\n              fontWeight: \"600\",\n              fill: \"#333\",\n              className: \"pointer-events-none\",\n              children: d.player\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this)]\n          }, d.player, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), hovered && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute z-50 bg-white/95 backdrop-blur border border-stone-300 shadow-xl p-4 rounded min-w-[200px] pointer-events-none\",\n        style: {\n          left: xScale(hovered.wos) + 30,\n          // Calculate current Y position of the hovered point for accurate tooltip placement\n          top: yScale(getFeatureYValue(hovered, featurePhase)) - 40\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-bold text-lg text-stone-800 border-b pb-1 mb-2\",\n          children: hovered.player\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-x-4 text-sm font-mono text-stone-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Targets:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right font-bold text-black\",\n            children: hovered.targets\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-bold text-black border-t pt-2 mt-2 col-span-2\",\n            children: \"Factor Values:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this), Object.entries(FEATURE_CONFIG).filter(([k]) => k !== 'raw').map(([key, config]) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [config.label, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 22\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-right\",\n              children: hovered[config.sourceKey].toFixed(3)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 22\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 18\n          }, this)), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-bold text-black border-t pt-2 mt-2 col-span-2\",\n            children: \"Final Comparison:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Expected Sep:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right\",\n            children: hovered.exp.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 42\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Created Sep:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right text-emerald-600 font-bold\",\n            children: hovered.wos.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full text-right mt-2 text-xs text-stone-400 font-mono\",\n      children: \"X-axis: league avg \\u2022 size: target share \\u2022 color: final performance\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 238,\n    columnNumber: 5\n  }, this);\n};\n_s(RouteComparisonVisualizer, \"IpfXiOfHLoFxug1W6HGQwD4oP0c=\");\n_c = RouteComparisonVisualizer;\nexport default RouteComparisonVisualizer;\nvar _c;\n$RefreshReg$(_c, \"RouteComparisonVisualizer\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","FEATURE_CONFIG","label","sourceKey","isInverse","FEATURES_ORDER","normalizeName","name","toLowerCase","replace","RouteComparisonVisualizer","_s","data","setData","hovered","setHovered","featurePhase","setFeaturePhase","featureMinsMaxs","setFeatureMinsMaxs","loadingError","setLoadingError","filePath","fetch","then","res","ok","Error","status","statusText","text","cleanText","startsWith","substring","lines","trim","split","filter","line","length","rawHeaders","headers","map","h","parsed","slice","values","row","forEach","i","player_name","player","wos","parseFloat","Advanced_WOS","exp","exp_sep_xgb","targets","play_id","sep_at_arrival","pass_length","time_to_throw","def_avg_speed","img","filteredData","d","isNaN","totalRowsAttempted","validHeaders","join","minsMaxs","Object","keys","key","min","Math","max","catch","error","console","message","handleNextPhase","currentIndex","indexOf","nextIndex","currentFeature","isContextRevealed","className","children","fileName","_jsxFileName","lineNumber","columnNumber","W","H","P","xs","ysExp","xMin","xMax","yMin","yMax","avgX","reduce","a","b","avgY","xScale","v","yScale","labelSize","labelColor","getFeatureYValue","featureKey","config","value","normalized","scaled","onClick","width","height","id","type","baseFrequency","numOctaves","stitchTiles","mode","in2","x","y","dx","dy","stdDeviation","floodColor","floodOpacity","fill","opacity","pointerEvents","textAnchor","fontSize","fontWeight","x1","y1","x2","y2","stroke","strokeWidth","strokeDasharray","style","transform","toFixed","radius","sqrt","diameter","xPos","yDataValue","yPosScreen","yPosFinal","cleanId","isGood","strokeColor","initials","n","onMouseEnter","onMouseLeave","transition","cx","cy","r","xlinkHref","preserveAspectRatio","clipPath","onError","e","target","display","parentNode","querySelector","left","top","entries","k","Fragment","_c","$RefreshReg$"],"sources":["/Users/yashviparmar/nfl-viz/src/RouteComparisonVisualizer.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\n// --- Feature Configuration ---\nconst FEATURE_CONFIG = {\n  'raw': { \n    label: 'Raw Separation Index', \n    sourceKey: 'exp', \n    isInverse: false, \n  },\n  'exp_sep_xgb': { \n    label: 'Expected Separation (Contextualized)', \n    sourceKey: 'exp', \n    isInverse: false, \n  },\n  'sep_at_arrival': { \n    label: 'Separation at Arrival', \n    sourceKey: 'sep_at_arrival', \n    isInverse: false,\n  },\n  'pass_length': { \n    label: 'Average Pass Length', \n    sourceKey: 'pass_length', \n    isInverse: true, \n  },\n  'time_to_throw': { \n    label: 'Average Time to Throw', \n    sourceKey: 'time_to_throw', \n    isInverse: true, \n  },\n  'def_avg_speed': { \n    label: 'Avg Defender Speed', \n    sourceKey: 'def_avg_speed', \n    isInverse: true, \n  },\n};\n\nconst FEATURES_ORDER = [\n  'raw', \n  'sep_at_arrival', \n  'pass_length', \n  'time_to_throw', \n  'def_avg_speed', \n  'exp_sep_xgb'\n];\n\n// Utility for image paths\nconst normalizeName = (name) => {\n  if (!name) return '';\n  return name\n    .toLowerCase()\n    .replace(/\\./g, '')        \n    .replace(/[^a-z\\s-]/g, '') \n    .replace(/\\s+/g, '-');     \n};\n\nconst RouteComparisonVisualizer  = () => {\n  const [data, setData] = useState([]);\n  const [hovered, setHovered] = useState(null);\n  const [featurePhase, setFeaturePhase] = useState(FEATURES_ORDER[0]); \n  const [featureMinsMaxs, setFeatureMinsMaxs] = useState({});\n  const [loadingError, setLoadingError] = useState(null);\n\n  useEffect(() => {\n    const filePath = 'elite_leaderboard (2).csv'; \n    \n    fetch(filePath) \n      .then(res => {\n          if (!res.ok) {\n              throw new Error(`Failed to load data: ${res.status} ${res.statusText}. Check path: ${filePath}`);\n          }\n          return res.text();\n      })\n      .then(text => {\n        // --- ULTIMATE ROBUST PARSING LOGIC ---\n        \n        // 1. Remove BOM character if present\n        const cleanText = text.startsWith('\\uFEFF') ? text.substring(1) : text;\n        \n        // 2. Split lines, handling various line endings (\\r\\n or \\n) and filter out empty lines\n        const lines = cleanText.trim().split(/\\r?\\n/).filter(line => line.trim() !== '');\n        \n        if (lines.length < 2) {\n             throw new Error(\"CSV file contains no header or data rows.\");\n        }\n        \n        // 3. Map and trim headers\n        const rawHeaders = lines[0].split(',');\n        const headers = rawHeaders.map(h => h.trim());\n\n        const parsed = lines.slice(1).map(line => {\n          const values = line.split(',');\n          const row = {};\n          \n          if (values.length !== headers.length) {\n              // Skip badly formatted rows where column count doesn't match\n              return null; \n          }\n          \n          // 4. Map and trim every value\n          headers.forEach((h, i) => {\n            row[h] = values[i] ? values[i].trim() : '';\n          });\n          \n          if (!row.player_name || row.player_name === '') return null;\n\n          // 5. Robust numerical conversion and assignment (parseFloat handles whitespace better than +)\n          return {\n            player: row.player_name,\n            wos: parseFloat(row.Advanced_WOS),    \n            exp: parseFloat(row.exp_sep_xgb),     \n            targets: parseFloat(row.play_id), // The play_id column is used as targets count\n            sep_at_arrival: parseFloat(row.sep_at_arrival),\n            pass_length: parseFloat(row.pass_length),\n            time_to_throw: parseFloat(row.time_to_throw),\n            def_avg_speed: parseFloat(row.def_avg_speed),\n            img: `/headshots/${normalizeName(row.player_name)}.jpg`\n          };\n        });\n\n        // 6. Final filtering based on NaN checks\n        const filteredData = parsed.filter(d => \n            d && \n            !isNaN(d.wos) && \n            !isNaN(d.exp) &&\n            !isNaN(d.targets) &&\n            !isNaN(d.sep_at_arrival) &&\n            !isNaN(d.pass_length) &&\n            !isNaN(d.time_to_throw) &&\n            !isNaN(d.def_avg_speed)\n        );\n        \n        if (filteredData.length === 0) {\n            const totalRowsAttempted = lines.length - 1;\n            const validHeaders = headers.join(', ');\n            throw new Error(`Data loaded but resulted in 0 valid player rows. (Attempted to parse ${totalRowsAttempted} data rows.) Check data integrity against required headers: ${validHeaders}`);\n        }\n        \n        setData(filteredData);\n\n        // Calculate min/max for all features for universal scaling\n        const minsMaxs = {};\n        Object.keys(FEATURE_CONFIG).forEach(key => {\n            const sourceKey = FEATURE_CONFIG[key].sourceKey || key;\n            if (key !== 'raw' && filteredData.length > 0) {\n                const values = filteredData.map(d => d[sourceKey]);\n                minsMaxs[key] = {\n                    min: Math.min(...values),\n                    max: Math.max(...values)\n                };\n            }\n        });\n        setFeatureMinsMaxs(minsMaxs);\n      })\n      .catch(error => {\n          console.error(\"Data loading failed:\", error);\n          setLoadingError(error.message);\n      });\n  }, []); \n\n  const handleNextPhase = () => {\n    const currentIndex = FEATURES_ORDER.indexOf(featurePhase);\n    const nextIndex = (currentIndex + 1) % FEATURES_ORDER.length;\n    setFeaturePhase(FEATURES_ORDER[nextIndex]);\n  };\n\n  const currentFeature = FEATURE_CONFIG[featurePhase];\n  const isContextRevealed = featurePhase === 'exp_sep_xgb';\n  \n  if (loadingError) {\n      return (\n          <div className=\"p-10 text-center font-serif text-red-700 bg-red-100 rounded-lg shadow-inner max-w-md mx-auto\">\n              <h3 className=\"font-bold text-lg mb-2\">Error Loading Data</h3>\n              <p className=\"text-sm\">{loadingError}</p>\n              <p className=\"text-xs mt-2 text-red-500\">\n                **CRITICAL CHECK**: Ensure `elite_leaderboard (2).csv` is in your project's `public/` directory (or equivalent static assets folder).\n              </p>\n          </div>\n      );\n  }\n\n  if (!data.length || Object.keys(featureMinsMaxs).length === 0) {\n    return <div className=\"p-10 text-center font-serif text-gray-500\">Loading Chart...</div>;\n  }\n\n  /* ----- Config for Video Frame ----- */\n  const W = 1600; \n  const H = 900;  \n  const P = 120;  \n\n  // Stats for scales (The Y-scale range must be consistent across all phases)\n  const xs = data.map(d => d.wos);\n  const ysExp = data.map(d => d.exp); // Only use exp for defining the visual Y-axis range\n  \n  const xMin = Math.min(...xs) - 0.1;\n  const xMax = Math.max(...xs) + 0.1;\n  const yMin = Math.min(...ysExp) - 0.1; \n  const yMax = Math.max(...ysExp) + 0.1; \n\n  const avgX = xs.reduce((a, b) => a + b, 0) / xs.length;\n  const avgY = ysExp.reduce((a, b) => a + b, 0) / ysExp.length; \n\n  const xScale = v => P + ((v - xMin) / (xMax - xMin)) * (W - P * 2);\n  const yScale = v => H - P - ((v - yMin) / (yMax - yMin)) * (H - P * 2);\n  \n  const labelSize = 24; \n  const labelColor = '#4a5568'; \n\n  /**\n   * Calculates the target Y-value (in the data's domain [yMin, yMax]) \n   * based on the current feature and the player's data.\n   */\n  const getFeatureYValue = (d, featureKey) => {\n    if (featureKey === 'raw') {\n      return avgY;\n    }\n    \n    const config = FEATURE_CONFIG[featureKey];\n    const sourceKey = config.sourceKey || featureKey;\n    const value = d[sourceKey];\n    const { min, max } = featureMinsMaxs[featureKey];\n\n    if (min === max) return avgY;\n\n    // 1. Normalize the feature value to [0, 1] range\n    let normalized = (value - min) / (max - min);\n\n    // 2. Invert if low value is better (i.e., should map to a higher y-axis position)\n    if (config.isInverse) {\n      normalized = 1 - normalized;\n    }\n\n    // 3. Scale the normalized value to the plot's Y-domain [yMin, yMax]\n    const scaled = yMin + normalized * (yMax - yMin);\n    return scaled;\n  };\n\n  return (\n    <div className=\"flex flex-col items-center bg-[#f4f1ea] p-8 rounded-xl shadow-2xl max-w-[1700px] mx-auto font-serif\">\n      \n      {/* Header Section */}\n      <div className=\"mb-4 text-center\">\n        <h2 className=\"text-4xl font-bold text-[#2c2c2c] uppercase tracking-wider\">WR Separation Landscape</h2>\n        <p className=\"text-[#666] italic mt-1\">Contextualizing Separation: An Interactive Trace</p>\n      </div>\n\n      {/* Animation Cycle Button */}\n      <div className=\"mb-6\">\n        <button\n          onClick={handleNextPhase}\n          className={`px-6 py-3 text-lg font-bold rounded-lg shadow-md transition-all duration-300 ${\n            isContextRevealed \n              ? 'bg-red-500 hover:bg-red-600 text-white' \n              : 'bg-green-500 hover:bg-green-600 text-white'\n          }`}\n        >\n          {isContextRevealed \n            ? 'Reset to Raw Separation' \n            : `Advance Context: ${FEATURES_ORDER.indexOf(featurePhase) + 1} / ${FEATURES_ORDER.length}`}\n        </button>\n        <p className=\"text-sm text-center mt-2 text-stone-600 font-mono\">\n          Current Context: <span className=\"font-semibold text-black\">{currentFeature.label}</span>\n        </p>\n      </div>\n\n      <div className=\"relative\">\n        <svg width={W} height={H} className=\"border border-[#dcd9d0] bg-[#f9f7f1]\">\n          \n          {/* --- Definitions (Filters) --- */}\n          <defs>\n            <filter id=\"noiseFilter\">\n              <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.8\" numOctaves=\"3\" stitchTiles=\"stitch\"/>\n              <feColorMatrix type=\"matrix\" values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 0.5 0\"/>\n              <feBlend mode=\"multiply\" in2=\"SourceGraphic\" />\n            </filter>\n            <filter id=\"dropShadow\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\n              <feDropShadow dx=\"2\" dy=\"2\" stdDeviation=\"2\" floodColor=\"#000\" floodOpacity=\"0.25\" />\n            </filter>\n          </defs>\n\n          {/* Paper Noise Texture */}\n          <rect width={W} height={H} fill=\"transparent\" opacity=\"0.15\" filter=\"url(#noiseFilter)\" pointerEvents=\"none\"/>\n\n          {/* --- Quadrant Labels (Only show in final phase) --- */}\n          {isContextRevealed && (\n            <g>\n              <text x={xScale(xMax)} y={yScale(yMax) + labelSize + 10} textAnchor=\"end\" fontSize={labelSize} fill={labelColor} fontWeight=\"bold\">The Achievers (High WOS, High EXP)</text>\n              <text x={xScale(xMax)} y={yScale(yMin) - 10} textAnchor=\"end\" fontSize={labelSize} fill=\"#10b981\" fontWeight=\"bold\">The Creators (High WOS, Low EXP)</text>\n              <text x={xScale(xMin)} y={yScale(yMax) + labelSize + 10} textAnchor=\"start\" fontSize={labelSize} fill=\"#ef4444\" fontWeight=\"bold\">The Underperformers (Low WOS, High EXP)</text>\n              <text x={xScale(xMin)} y={yScale(yMin) - 10} textAnchor=\"start\" fontSize={labelSize} fill={labelColor} fontWeight=\"bold\">The Baseline (Low WOS, Low EXP)</text>\n            </g>\n          )}\n\n          {/* --- Diagonal 1:1 Reference Line (Only show in final phase) --- */}\n          <line \n            x1={xScale(Math.max(xMin, yMin))} y1={yScale(Math.max(xMin, yMin))} \n            x2={xScale(Math.min(xMax, yMax))} y2={yScale(Math.min(xMax, yMax))} \n            stroke=\"#999\" strokeWidth=\"2\" strokeDasharray=\"6,6\" \n            style={{ opacity: isContextRevealed ? 1 : 0.2 }}\n          />\n\n          {/* --- Axes --- */}\n          {/* Vertical Axis (Dashed) - Avg Created Separation (WOS) */}\n          <line x1={xScale(avgX)} y1={P} x2={xScale(avgX)} y2={H-P} stroke=\"#444\" strokeWidth=\"1\" strokeDasharray=\"4,4\" />\n          \n          {/* Horizontal Axis (Solid) - Avg Contextual Factor */}\n          <line x1={P} y1={yScale(avgY)} x2={W-P} y2={yScale(avgY)} stroke=\"#444\" strokeWidth=\"1\" />\n          \n          <text x={W/2} y={H - 40} textAnchor=\"middle\" fontWeight=\"bold\" fill=\"#333\" className=\"uppercase tracking-widest text-lg\">Created Separation (WOS)</text>\n          \n          {/* Y-Axis Label changes based on state */}\n          <text \n            x={40} y={H/2} textAnchor=\"middle\" fontWeight=\"bold\" fill=\"#333\" className=\"uppercase tracking-widest text-lg\" \n            transform={`rotate(-90, 40, ${H/2})`}\n          >\n            {currentFeature.label}\n          </text>\n          \n          {/* X-axis ticks */}\n          {[xMin, avgX, xMax].map((v,i) => (\n            <text key={`x-${i}`} x={xScale(v)} y={H-P+25} textAnchor=\"middle\" fill=\"#111\" fontSize=\"14\">\n              {v.toFixed(2)}\n            </text>\n          ))}\n          \n          {/* Y-axis ticks */}\n          {[yMin, avgY, yMax].map((v,i) => (\n            <text key={`y-${i}`} x={P-15} y={yScale(v)} textAnchor=\"end\" fill=\"#111\" fontSize=\"14\" dy=\"0.3em\">\n              {featurePhase === 'raw' ? (i === 1 ? 'Avg' : '') : v.toFixed(2)}\n            </text>\n          ))}\n\n\n          {/* --- Player Nodes and Names --- */}\n          {data.map(d => {\n            const radius = Math.min(Math.sqrt(d.targets) * 3, 25); \n            const diameter = radius * 2;\n            const xPos = xScale(d.wos);\n            \n            const yDataValue = getFeatureYValue(d, featurePhase);\n            const yPosScreen = yScale(yDataValue);\n            const yPosFinal = yScale(d.exp); \n            \n            const cleanId = `clip-${normalizeName(d.player)}`;\n            \n            const isGood = d.wos > d.exp; \n            const strokeColor = isGood ? '#10b981' : '#ef4444';\n            const strokeWidth = isGood ? 3 : 2;\n\n            const initials = d.player.split(' ').map(n => n[0]).join('');\n\n            return (\n              <g \n                key={d.player}\n                onMouseEnter={() => setHovered(d)}\n                onMouseLeave={() => setHovered(null)}\n                className=\"cursor-pointer\"\n                style={{ \n                    // Use transform to smoothly transition the position (y-coordinate)\n                    transform: `translate(0, ${yPosScreen - yPosFinal}px)`,\n                    transition: 'transform 1.5s cubic-bezier(0.5, 0.1, 0.5, 1)' \n                }}\n              >\n                <defs>\n                  <clipPath id={cleanId}>\n                    <circle cx={xPos} cy={yPosFinal} r={radius} /> \n                  </clipPath>\n                </defs>\n\n                {/* 1. FALLBACK CIRCLE & INITIALS (moved by the same transform) */}\n                <circle cx={xPos} cy={yPosFinal} r={radius} fill=\"#b8b8b8\" />\n                <text \n                    x={xPos} y={yPosFinal + 4} textAnchor=\"middle\" \n                    fontSize={radius * 0.8} fontWeight=\"bold\" fill=\"#444\" \n                    style={{ pointerEvents: 'none' }} \n                >\n                    {initials}\n                </text>\n\n                {/* 2. The Image (Clipped by the circle and moved by the transform) */}\n                <image \n                  xlinkHref={d.img} \n                  x={xPos - radius} \n                  y={yPosFinal - radius} \n                  width={diameter} \n                  height={diameter} \n                  preserveAspectRatio=\"xMidYMid slice\"\n                  clipPath={`url(#${cleanId})`}\n                  onError={(e) => { \n                    e.target.style.display = 'none'; \n                    e.target.parentNode.querySelector('circle:first-child').style.display = 'block';\n                  }}\n                />\n\n                {/* 3. The Border Circle */}\n                <circle \n                  cx={xPos} cy={yPosFinal} r={radius} fill=\"none\" \n                  stroke={strokeColor} strokeWidth={strokeWidth} \n                  filter=\"url(#dropShadow)\"\n                />\n                \n                {/* 4. PLAYER NAME LABEL */}\n                <text\n                  x={xPos}\n                  y={yPosFinal + radius + 12} \n                  textAnchor=\"middle\"\n                  fontSize=\"10\" \n                  fontWeight=\"600\"\n                  fill=\"#333\"\n                  className=\"pointer-events-none\"\n                >\n                  {d.player}\n                </text>\n              </g>\n            );\n          })}\n        </svg>\n\n        {/* --- Hover Tooltip (Positioning adjusted to track the animated point) --- */}\n        {hovered && (\n          <div \n            className=\"absolute z-50 bg-white/95 backdrop-blur border border-stone-300 shadow-xl p-4 rounded min-w-[200px] pointer-events-none\"\n            style={{ \n              left: xScale(hovered.wos) + 30, \n              // Calculate current Y position of the hovered point for accurate tooltip placement\n              top: yScale(getFeatureYValue(hovered, featurePhase)) - 40 \n            }}\n          >\n            <div className=\"font-bold text-lg text-stone-800 border-b pb-1 mb-2\">{hovered.player}</div>\n            <div className=\"grid grid-cols-2 gap-x-4 text-sm font-mono text-stone-600\">\n              <span>Targets:</span> <span className=\"text-right font-bold text-black\">{hovered.targets}</span>\n              <span className=\"font-bold text-black border-t pt-2 mt-2 col-span-2\">Factor Values:</span>\n              {Object.entries(FEATURE_CONFIG).filter(([k]) => k !== 'raw').map(([key, config]) => (\n                 <React.Fragment key={key}>\n                     <span>{config.label}:</span>\n                     <span className=\"text-right\">{hovered[config.sourceKey].toFixed(3)}</span>\n                 </React.Fragment>\n              ))}\n              <span className=\"font-bold text-black border-t pt-2 mt-2 col-span-2\">Final Comparison:</span>\n              <span>Expected Sep:</span> <span className=\"text-right\">{hovered.exp.toFixed(2)}</span>\n              <span>Created Sep:</span> <span className=\"text-right text-emerald-600 font-bold\">{hovered.wos.toFixed(2)}</span>\n            </div>\n          </div>\n        )}\n      </div>\n      <div className=\"w-full text-right mt-2 text-xs text-stone-400 font-mono\">\n         X-axis: league avg • size: target share • color: final performance\n      </div>\n    </div>\n  );\n};\n\nexport default RouteComparisonVisualizer ;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}