{"ast":null,"code":"var _jsxFileName = \"/Users/yashviparmar/nfl-viz/src/RouteComparisonVisualizer.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useEffect, useState, useMemo, useRef } from 'react';\n\n// --- Utility Functions (Normalize Name, Control Components) ---\n\n// Utility for image paths\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst normalizeName = name => {\n  if (!name) return '';\n  return name.toLowerCase().replace(/\\./g, '').replace(/[^a-z\\s-]/g, '').replace(/\\s+/g, '-');\n};\n\n// Range Slider Component (MODIFIED to include 'disabled' prop)\nconst RangeSlider = ({\n  label,\n  value,\n  min,\n  max,\n  step,\n  onChange,\n  disabled\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `flex flex-col mb-4 p-3 bg-white rounded-lg shadow-sm border border-gray-100 ${disabled ? 'opacity-50 pointer-events-none bg-gray-50' : ''}`,\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    className: \"text-sm font-semibold text-gray-700 mb-1\",\n    children: [label, \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"font-mono text-blue-600\",\n      children: step === 1 ? Math.round(value) : value.toFixed(2)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n    type: \"range\",\n    min: min,\n    max: max,\n    step: step,\n    value: value,\n    onChange: e => onChange(+e.target.value),\n    className: \"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg\",\n    disabled: disabled // Disabled input element\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 17,\n  columnNumber: 3\n}, this);\n\n// Dropdown/Select Component\n_c = RangeSlider;\nconst Dropdown = ({\n  label,\n  value,\n  options,\n  onChange\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex flex-col mb-4 p-3 bg-white rounded-lg shadow-sm border border-gray-100\",\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    className: \"text-sm font-semibold text-gray-700 mb-1\",\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 7\n  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n    value: value,\n    onChange: e => onChange(e.target.value),\n    className: \"block w-full px-3 py-2 text-base border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",\n    children: options.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: opt.value,\n      children: opt.label\n    }, opt.value, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 7\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 37,\n  columnNumber: 5\n}, this);\n\n// --- Custom Hook for smooth transitions (Core Animation Logic) ---\n// This hook is essential for the smooth visual effect when filters change.\n_c2 = Dropdown;\nconst useTransitionEffect = (targetValue, duration = 500) => {\n  _s();\n  const [currentValue, setCurrentValue] = useState(targetValue);\n  const animationRef = useRef();\n  useEffect(() => {\n    if (isNaN(targetValue)) {\n      setCurrentValue(targetValue);\n      return;\n    }\n    cancelAnimationFrame(animationRef.current);\n    const startValue = currentValue;\n    const startTime = performance.now();\n    const animate = time => {\n      const elapsed = time - startTime;\n      const progress = Math.min(1, elapsed / duration);\n\n      // Easing function (easeInOutQuad)\n      const easedProgress = progress < 0.5 ? 2 * progress * progress : -1 + (4 - 2 * progress) * progress;\n      const newValue = startValue + (targetValue - startValue) * easedProgress;\n      setCurrentValue(newValue);\n      if (progress < 1) {\n        animationRef.current = requestAnimationFrame(animate);\n      }\n    };\n    animationRef.current = requestAnimationFrame(animate);\n    return () => cancelAnimationFrame(animationRef.current);\n  }, [targetValue, duration]);\n  return currentValue;\n};\n\n// --- Player Node Component (To encapsulate the animation) ---\n_s(useTransitionEffect, \"l9QBIG6ukDcwduptDX9H6XnnZEc=\");\nconst PlayerNode = /*#__PURE__*/_s2(/*#__PURE__*/React.memo(_c3 = _s2(({\n  d,\n  xPos,\n  yPos,\n  hovered,\n  setHovered,\n  vizMode,\n  defaultColor,\n  controlRanges\n}) => {\n  _s2();\n  const cleanId = `clip-${normalizeName(d.player)}`;\n  const initials = d.player.split(' ').map(n => n[0]).join('');\n\n  // Use the hook for smooth transition on the radius\n  const animatedRadius = useTransitionEffect(d.radius);\n  const animatedDiameter = animatedRadius * 2;\n  const strokeColor = d.dynamicColor || defaultColor;\n\n  // Determine overall dimming/highlight based on filter activity\n  const isFilterActive = vizMode.maxDefSpeed < controlRanges.defSpeedMax || vizMode.maxPassLength < controlRanges.passLengthMax || vizMode.maxTimeToThrow < controlRanges.timeToThrowMax;\n  const baseOpacity = isFilterActive ? d.isHighlighted ? 1 : 0.2 // Dim if filter is active and not highlighted\n  : 1; // Full opacity if no filter is active\n\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    onMouseEnter: () => setHovered(d),\n    onMouseLeave: () => setHovered(null),\n    className: \"cursor-pointer transition-opacity duration-300\",\n    style: {\n      // Dim non-hovered players when hovered, or dim non-highlighted players when filter is active\n      opacity: hovered ? hovered.player !== d.player ? 0.2 : 1 : baseOpacity\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n      children: /*#__PURE__*/_jsxDEV(\"clipPath\", {\n        id: cleanId,\n        children: /*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: xPos,\n          cy: yPos,\n          r: animatedRadius\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: xPos,\n      cy: yPos,\n      r: animatedRadius,\n      fill: \"#b8b8b8\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n      x: xPos,\n      y: yPos + 4,\n      textAnchor: \"middle\",\n      fontSize: animatedRadius * 0.8,\n      fontWeight: \"bold\",\n      fill: \"#444\",\n      style: {\n        pointerEvents: 'none'\n      },\n      children: initials\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"image\", {\n      xlinkHref: d.img,\n      x: xPos - animatedRadius,\n      y: yPos - animatedRadius,\n      width: animatedDiameter,\n      height: animatedDiameter,\n      preserveAspectRatio: \"xMidYMid slice\",\n      clipPath: `url(#${cleanId})`,\n      onError: e => {\n        e.target.style.display = 'none';\n        e.target.parentNode.querySelector('circle:first-child').style.display = 'block';\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: xPos,\n      cy: yPos,\n      r: animatedRadius,\n      fill: \"none\",\n      stroke: strokeColor,\n      strokeWidth: d.wos > d.exp ? 3 : 2,\n      filter: \"url(#dropShadow)\"\n      // Use CSS transition for color and stroke changes\n      ,\n      style: {\n        transition: 'stroke 500ms ease-in-out'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n      x: xPos,\n      y: yPos + animatedRadius + 12,\n      textAnchor: \"middle\",\n      fontSize: \"10\",\n      fontWeight: \"600\",\n      fill: \"#333\",\n      className: \"pointer-events-none\",\n      children: d.player\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)]\n  }, d.player, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}, \"IOtEVvKPHcYNNgWazilJ/yovWuw=\", false, function () {\n  return [useTransitionEffect];\n})), \"IOtEVvKPHcYNNgWazilJ/yovWuw=\", false, function () {\n  return [useTransitionEffect];\n});\n_c4 = PlayerNode;\nconst RouteComparisonVisualizer = () => {\n  _s3();\n  // --- 1. STATE & HOOKS DEFINED UNCONDITIONALLY AT THE TOP ---\n  const [data, setData] = useState([]);\n  const [hovered, setHovered] = useState(null);\n  const [minTargets, setMinTargets] = useState(50);\n\n  // NEW STATE: Animation Control\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [animationMode, setAnimationMode] = useState('passLength'); // Default mode\n\n  // State to hold the dynamic min/max values for sliders, set after data load\n  const [controlRanges, setControlRanges] = useState({\n    targetsMax: 100,\n    defSpeedMin: 0,\n    defSpeedMax: 100,\n    passLengthMax: 50,\n    timeToThrowMin: 0,\n    timeToThrowMax: 5\n  });\n\n  // VIZ MODE STATE - Default max values should match controlRanges default maxes\n  const [vizMode, setVizMode] = useState({\n    sizeBy: 'targets',\n    colorBy: 'none',\n    maxDefSpeed: 100,\n    maxPassLength: 50,\n    maxTimeToThrow: 5\n  });\n\n  // Handler to update vizMode (for dropdowns and manual sliders)\n  const handleVizModeChange = (key, value) => {\n    setVizMode(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n\n  /* ----- Data Loading and Range Initialization (Existing) ----- */\n  useEffect(() => {\n    fetch('/data/elite_leaderboard3.csv').then(res => res.text()).then(text => {\n      // ... (Data parsing logic is unchanged)\n      const [header, ...rows] = text.trim().split('\\n');\n      const cols = header.split(',');\n      const parsed = rows.map(r => {\n        const v = r.split(',');\n        const row = {};\n        cols.forEach((c, i) => row[c] = v[i]);\n        if (!row.player_name) return null;\n        return {\n          player: row.player_name,\n          wos: +row.Advanced_WOS,\n          // X-axis (Created)\n          exp: +row.exp_sep_xgb,\n          // Y-axis (Expected)\n          targets: +row.play_id,\n          sep_at_arrival: +row.sep_at_arrival,\n          pass_length: +row.pass_length,\n          time_to_throw: +row.time_to_throw,\n          def_avg_speed: +row.def_avg_speed,\n          img: `/headshots/${normalizeName(row.player_name)}.jpg`\n        };\n      });\n      const validData = parsed.filter(d => d && !isNaN(d.wos) && !isNaN(d.exp));\n\n      // Calculate dynamic ranges for controls\n      const allTargets = validData.map(d => d.targets);\n      const allDefSpeeds = validData.map(d => d.def_avg_speed);\n      const allPassLengths = validData.map(d => d.pass_length);\n      const allTimes = validData.map(d => d.time_to_throw);\n      const targetsMax = Math.max(...allTargets);\n      const defSpeedMin = Math.floor(Math.min(...allDefSpeeds) * 10) / 10;\n      const defSpeedMax = Math.ceil(Math.max(...allDefSpeeds) * 10) / 10;\n      const passLengthMax = Math.ceil(Math.max(...allPassLengths));\n      const timeToThrowMin = Math.floor(Math.min(...allTimes) * 10) / 10;\n      const timeToThrowMax = Math.ceil(Math.max(...allTimes) * 10) / 10;\n\n      // Set the calculated ranges\n      setControlRanges({\n        targetsMax,\n        defSpeedMin,\n        defSpeedMax,\n        passLengthMax,\n        timeToThrowMin,\n        timeToThrowMax\n      });\n\n      // Update vizMode to reflect the true maximums by default\n      setVizMode(prev => ({\n        ...prev,\n        maxDefSpeed: defSpeedMax,\n        maxPassLength: passLengthMax,\n        maxTimeToThrow: timeToThrowMax\n      }));\n      setData(validData);\n    });\n  }, []);\n\n  /* ----- Core Animation Loop (NEW) ----- */\n  useEffect(() => {\n    // Only run the animation loop if playing AND if ranges have been initialized\n    if (!isPlaying || controlRanges.passLengthMax === 50) {\n      return;\n    }\n    const intervalTime = 500; // Time per step in milliseconds\n\n    let stepValue = 0;\n    let maxVal = 0;\n    let minVal = 0;\n    let modeKey = '';\n    if (animationMode === 'passLength') {\n      modeKey = 'maxPassLength';\n      maxVal = controlRanges.passLengthMax;\n      minVal = 1; // Minimum realistic pass length\n      stepValue = 1;\n    } else if (animationMode === 'defSpeed') {\n      modeKey = 'maxDefSpeed';\n      maxVal = controlRanges.defSpeedMax;\n      minVal = controlRanges.defSpeedMin;\n      stepValue = 0.05; // Finer step for smooth speed transition\n    }\n\n    // Ensure the animation starts at the max value\n    setVizMode(prev => ({\n      ...prev,\n      [modeKey]: maxVal\n    }));\n    const intervalId = setInterval(() => {\n      setVizMode(prev => {\n        let newValue = prev[modeKey] - stepValue;\n\n        // Check if we hit the minimum limit (with tolerance for floating point)\n        if (newValue < minVal - stepValue / 2) {\n          // Reset to max value to loop the animation\n          newValue = maxVal;\n        }\n        return {\n          ...prev,\n          [modeKey]: newValue\n        };\n      });\n    }, intervalTime);\n\n    // Cleanup function to stop the interval\n    return () => clearInterval(intervalId);\n  }, [isPlaying, controlRanges, animationMode]);\n\n  /* ----- Filtered and Processed Data Calculation (useMemo #1 - SAFE) ----- */\n  const processedData = useMemo(() => {\n    if (!data.length) return [];\n    const {\n      sizeBy,\n      colorBy,\n      maxDefSpeed,\n      maxPassLength,\n      maxTimeToThrow\n    } = vizMode;\n\n    // Step 1: Apply fixed filters (Minimum Targets)\n    let filtered = data.filter(d => d.targets >= minTargets);\n\n    // Step 2: Apply dynamic range filters (Pass Length, Time to Throw)\n    // Players falling outside these bounds are removed from the plot\n    filtered = filtered.filter(d => d.pass_length <= maxPassLength && d.time_to_throw <= maxTimeToThrow);\n\n    // Get stats for dynamic sizing/coloring *from the filtered set*\n    const allSizeVals = filtered.map(d => d[sizeBy]);\n    const sizeMin = allSizeVals.length ? Math.min(...allSizeVals) : 0;\n    const sizeMax = allSizeVals.length ? Math.max(...allSizeVals) : 1;\n\n    // Color scale for non-default mode (Blue to Red HSL)\n    const colorVals = filtered.map(d => d[colorBy] || 0);\n    const colorMin = colorVals.length ? Math.min(...colorVals) : 0;\n    const colorMax = colorVals.length ? Math.max(...colorVals) : 1;\n    return filtered.map(d => {\n      // DYNAMIC RENDERING LOGIC - SIZE\n      const normalizedSize = (d[sizeBy] - sizeMin) / (sizeMax - sizeMin || 1);\n      const radius = Math.min(normalizedSize * 15 + 10, 30); // Base radius: 10, Max: 30\n\n      // DYNAMIC RENDERING LOGIC - COLOR\n      let dynamicColor = '';\n      if (colorBy !== 'none') {\n        const normalizedColor = (d[colorBy] - colorMin) / (colorMax - colorMin || 1);\n        // HSL: H-300 (Blue/Low) to H-0 (Red/High)\n        const h = 300 - 300 * normalizedColor;\n        dynamicColor = `hsl(${h}, 70%, 50%)`;\n      }\n\n      // Highlight Logic: True if the Defensive Speed filter applies to this player\n      const isHighlighted = d.def_avg_speed <= maxDefSpeed;\n      return {\n        ...d,\n        radius,\n        dynamicColor,\n        // isHighlighted determines if it gets the base opacity (1) or dim opacity (0.2)\n        isHighlighted: isHighlighted\n      };\n    });\n  }, [data, minTargets, vizMode, controlRanges]);\n\n  /* ----- Status message for the animated visual (useMemo #2 - SAFE) ----- */\n  const statusMessage = useMemo(() => {\n    let parts = [];\n    let sizeMsg = `Size: ${vizMode.sizeBy === 'targets' ? 'Targets (Volume)' : 'Separation at Arrival'}`;\n    let colorMsg = `Color: ${vizMode.colorBy === 'none' ? 'WOS > EXP (Delta)' : vizMode.colorBy.replace(/_/g, ' ')}`;\n    parts.push(sizeMsg);\n    parts.push(colorMsg);\n\n    // Filter status messages\n    if (vizMode.maxDefSpeed < controlRanges.defSpeedMax) {\n      parts.push(`Max Def Speed: < ${vizMode.maxDefSpeed.toFixed(2)}`);\n    }\n    if (vizMode.maxPassLength < controlRanges.passLengthMax) {\n      parts.push(`Max Pass Length: < ${vizMode.maxPassLength.toFixed(0)} yd`);\n    }\n    if (vizMode.maxTimeToThrow < controlRanges.timeToThrowMax) {\n      parts.push(`Max TTT: < ${vizMode.maxTimeToThrow.toFixed(2)} sec`);\n    }\n    return parts.join(' | ');\n  }, [vizMode, controlRanges]);\n\n  // --- 2. CONDITIONAL RETURN (SAFE) ---\n  if (!data.length) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-10 text-center font-serif text-gray-500\",\n    children: \"Loading Chart...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 409,\n    columnNumber: 28\n  }, this);\n\n  /* ----- Config for Video Frame (Non-hook derivations) ----- */\n  const W = 1600;\n  const H = 900;\n  const P = 120;\n\n  // Stats for scales (based on *original* data)\n  const xs = data.map(d => d.wos);\n  const ys = data.map(d => d.exp);\n  const xMin = Math.min(...xs) - 0.1;\n  const xMax = Math.max(...xs) + 0.1;\n  const yMin = Math.min(...ys) - 0.1;\n  const yMax = Math.max(...ys) + 0.1;\n  const avgX = xs.reduce((a, b) => a + b, 0) / xs.length;\n  const avgY = ys.reduce((a, b) => a + b, 0) / ys.length;\n  const xScale = v => P + (v - xMin) / (xMax - xMin) * (W - P * 2);\n  const yScale = v => H - P - (v - yMin) / (yMax - yMin) * (H - P * 2);\n  const labelSize = 24;\n  const labelColor = '#4a5568';\n  const labelMargin = 25;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center bg-[#f4f1ea] p-8 rounded-xl shadow-2xl max-w-[1700px] mx-auto font-serif\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-4xl font-bold text-[#2c2c2c] uppercase tracking-wider\",\n        children: \"WR Separation Landscape (Contextualized)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-[#666] italic mt-1\",\n        children: \"Player metrics smoothly transition when situational factors are changed.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full flex justify-center items-center mb-6 p-4 bg-blue-100/50 rounded-lg shadow-md border-b border-blue-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-6\",\n        children: [/*#__PURE__*/_jsxDEV(Dropdown, {\n          label: \"Animate Filter\",\n          value: animationMode,\n          options: [{\n            value: 'passLength',\n            label: 'Max Pass Length (yd)'\n          }, {\n            value: 'defSpeed',\n            label: 'Max Avg Def Speed (mph)'\n          }],\n          onChange: v => {\n            setIsPlaying(false); // Stop when changing mode\n            setAnimationMode(v);\n            // Reset the filter value to max when changing mode\n            if (v === 'passLength') {\n              handleVizModeChange('maxPassLength', controlRanges.passLengthMax);\n            } else if (v === 'defSpeed') {\n              handleVizModeChange('maxDefSpeed', controlRanges.defSpeedMax);\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsPlaying(!isPlaying),\n          className: `px-6 py-3 rounded-full text-white font-bold transition-all duration-200 flex items-center space-x-2 \n                    ${isPlaying ? 'bg-red-500 hover:bg-red-600' : 'bg-blue-600 hover:bg-blue-700'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-5 w-5\",\n            viewBox: \"0 0 20 20\",\n            fill: \"currentColor\",\n            children: isPlaying ? /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM9.5 7.5a.5.5 0 00-.5.5v4a.5.5 0 001 0v-4a.5.5 0 00-.5-.5zM12 7.5a.5.5 0 00-.5.5v4a.5.5 0 001 0v-4a.5.5 0 00-.5-.5z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 29\n            }, this) : /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm-1-6.5a.5.5 0 00.5.5h.5a.5.5 0 00.5-.5V8.5a.5.5 0 00-.5-.5h-.5a.5.5 0 00-.5.5v3z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: isPlaying ? 'Pause Animation' : 'Play Animation'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full flex justify-around mb-8 p-4 bg-gray-50 rounded-lg shadow-inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-[18%]\",\n        children: /*#__PURE__*/_jsxDEV(RangeSlider, {\n          label: \"Minimum Targets\",\n          value: minTargets,\n          min: 1,\n          max: controlRanges.targetsMax,\n          step: 1,\n          onChange: setMinTargets,\n          disabled: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-[18%]\",\n        children: /*#__PURE__*/_jsxDEV(Dropdown, {\n          label: \"Node Size By\",\n          value: vizMode.sizeBy,\n          options: [{\n            value: 'targets',\n            label: 'Targets (Volume)'\n          }, {\n            value: 'sep_at_arrival',\n            label: 'Separation at Arrival'\n          }],\n          onChange: v => handleVizModeChange('sizeBy', v)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-[18%]\",\n        children: /*#__PURE__*/_jsxDEV(Dropdown, {\n          label: \"Node Color By\",\n          value: vizMode.colorBy,\n          options: [{\n            value: 'none',\n            label: 'WOS > EXP (Default)'\n          }, {\n            value: 'time_to_throw',\n            label: 'Time to Throw'\n          }, {\n            value: 'pass_length',\n            label: 'Pass Length'\n          }],\n          onChange: v => handleVizModeChange('colorBy', v)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-[18%]\",\n        children: /*#__PURE__*/_jsxDEV(RangeSlider, {\n          label: `Max Pass Length (yd)`,\n          value: vizMode.maxPassLength,\n          min: 1,\n          max: controlRanges.passLengthMax,\n          step: 1\n          // Logic: Disable if currently playing AND animating this filter\n          ,\n          onChange: !isPlaying || animationMode !== 'passLength' ? v => handleVizModeChange('maxPassLength', v) : () => {},\n          disabled: isPlaying && animationMode === 'passLength'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-[18%]\",\n        children: /*#__PURE__*/_jsxDEV(RangeSlider, {\n          label: `Max Time to Throw (sec)`,\n          value: vizMode.maxTimeToThrow,\n          min: controlRanges.timeToThrowMin,\n          max: controlRanges.timeToThrowMax,\n          step: 0.01,\n          onChange: v => handleVizModeChange('maxTimeToThrow', v),\n          disabled: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-[18%]\",\n        children: /*#__PURE__*/_jsxDEV(RangeSlider, {\n          label: `Max Avg Def Speed (mph)`,\n          value: vizMode.maxDefSpeed,\n          min: controlRanges.defSpeedMin,\n          max: controlRanges.defSpeedMax,\n          step: 0.01\n          // Logic: Disable if currently playing AND animating this filter\n          ,\n          onChange: !isPlaying || animationMode !== 'defSpeed' ? v => handleVizModeChange('maxDefSpeed', v) : () => {},\n          disabled: isPlaying && animationMode === 'defSpeed'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        width: W,\n        height: H,\n        className: \"border border-[#dcd9d0] bg-[#f9f7f1]\",\n        children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n          children: [/*#__PURE__*/_jsxDEV(\"filter\", {\n            id: \"noiseFilter\",\n            children: [/*#__PURE__*/_jsxDEV(\"feTurbulence\", {\n              type: \"fractalNoise\",\n              baseFrequency: \"0.8\",\n              numOctaves: \"3\",\n              stitchTiles: \"stitch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"feColorMatrix\", {\n              type: \"matrix\",\n              values: \"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 0.5 0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"feBlend\", {\n              mode: \"multiply\",\n              in2: \"SourceGraphic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"filter\", {\n            id: \"dropShadow\",\n            x: \"-20%\",\n            y: \"-20%\",\n            width: \"140%\",\n            height: \"140%\",\n            children: /*#__PURE__*/_jsxDEV(\"feDropShadow\", {\n              dx: \"2\",\n              dy: \"2\",\n              stdDeviation: \"2\",\n              floodColor: \"#000\",\n              floodOpacity: \"0.25\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n          width: W,\n          height: H,\n          fill: \"transparent\",\n          opacity: \"0.15\",\n          filter: \"url(#noiseFilter)\",\n          pointerEvents: \"none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: W - P - labelMargin,\n          y: P + labelSize + labelMargin,\n          textAnchor: \"end\",\n          fontSize: labelSize,\n          fill: labelColor,\n          fontWeight: \"bold\",\n          children: \"The Achievers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: W - P - labelMargin,\n          y: H - P - labelMargin,\n          textAnchor: \"end\",\n          fontSize: labelSize,\n          fill: \"#10b981\",\n          fontWeight: \"bold\",\n          children: \"The Creators\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: P + labelMargin,\n          y: P + labelSize + labelMargin,\n          textAnchor: \"start\",\n          fontSize: labelSize,\n          fill: \"#ef4444\",\n          fontWeight: \"bold\",\n          children: \"The Underperformers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: P + labelMargin,\n          y: H - P - labelMargin,\n          textAnchor: \"start\",\n          fontSize: labelSize,\n          fill: labelColor,\n          fontWeight: \"bold\",\n          children: \"The Baseline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: xScale(Math.max(xMin, yMin)),\n          y1: yScale(Math.max(xMin, yMin)),\n          x2: xScale(Math.min(xMax, yMax)),\n          y2: yScale(Math.min(xMax, yMax)),\n          stroke: \"#999\",\n          strokeWidth: \"2\",\n          strokeDasharray: \"6,6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: xScale(avgX),\n          y1: P,\n          x2: xScale(avgX),\n          y2: H - P,\n          stroke: \"#444\",\n          strokeWidth: \"1\",\n          strokeDasharray: \"4,4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: P,\n          y1: yScale(avgY),\n          x2: W - P,\n          y2: yScale(avgY),\n          stroke: \"#444\",\n          strokeWidth: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: W / 2,\n          y: H - 40,\n          textAnchor: \"middle\",\n          fontWeight: \"bold\",\n          fill: \"#333\",\n          className: \"uppercase tracking-widest text-lg\",\n          children: \"Created Separation (WOS)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: 40,\n          y: H / 2,\n          textAnchor: \"middle\",\n          fontWeight: \"bold\",\n          fill: \"#333\",\n          className: \"uppercase tracking-widest text-lg\",\n          transform: `rotate(-90, 40, ${H / 2})`,\n          children: \"Expected Separation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 11\n        }, this), [xMin, avgX, xMax].map((v, i) => /*#__PURE__*/_jsxDEV(\"text\", {\n          x: xScale(v),\n          y: H - P + 25,\n          textAnchor: \"middle\",\n          fill: \"#111\",\n          fontSize: \"14\",\n          children: v.toFixed(2)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 13\n        }, this)), [yMin, avgY, yMax].map((v, i) => /*#__PURE__*/_jsxDEV(\"text\", {\n          x: P - 15,\n          y: yScale(v),\n          textAnchor: \"end\",\n          fill: \"#111\",\n          fontSize: \"14\",\n          dy: \"0.3em\",\n          children: v.toFixed(2)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 13\n        }, this)), processedData.map(d => {\n          const xPos = xScale(d.wos);\n          const yPos = yScale(d.exp);\n          const isGood = d.wos > d.exp;\n          const defaultColor = isGood ? '#10b981' : '#ef4444';\n          return /*#__PURE__*/_jsxDEV(PlayerNode, {\n            d: d,\n            xPos: xPos,\n            yPos: yPos,\n            hovered: hovered,\n            setHovered: setHovered,\n            vizMode: vizMode,\n            defaultColor: defaultColor,\n            controlRanges: controlRanges // Pass ranges for opacity logic\n          }, d.player, false, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 9\n      }, this), hovered && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute z-50 bg-white/95 backdrop-blur border border-stone-300 shadow-xl p-4 rounded min-w-[250px] pointer-events-none\",\n        style: {\n          left: xScale(hovered.wos) + 30,\n          top: yScale(hovered.exp) - 40\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-bold text-xl text-stone-800 border-b pb-1 mb-2\",\n          children: hovered.player\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 649,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-x-4 text-sm font-mono text-stone-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-black\",\n            children: \"Targets:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right font-bold text-black\",\n            children: hovered.targets\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 74\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-black\",\n            children: \"Expected Separation:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right\",\n            children: hovered.exp.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 86\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-black\",\n            children: \"Created Separation:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right text-emerald-600 font-bold\",\n            children: hovered.wos.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 85\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mt-2 col-span-2 text-stone-500 italic\",\n            children: \"Contextual Data:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 654,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Sep. at Arrival:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right\",\n            children: hovered.sep_at_arrival.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 71\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Pass Length:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right\",\n            children: hovered.pass_length.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 67\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Time to Throw:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right\",\n            children: hovered.time_to_throw.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 69\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Avg Def. Speed:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right\",\n            children: hovered.def_avg_speed.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 70\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full text-center mt-4 p-3 text-lg bg-gray-200/50 rounded-lg shadow-inner font-mono text-stone-700 transition duration-500\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-bold uppercase mr-3\",\n        children: \"Visualization Mode:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 10\n      }, this), \" \", statusMessage]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 665,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 435,\n    columnNumber: 5\n  }, this);\n};\n_s3(RouteComparisonVisualizer, \"zT+arjslc6b6ps61O/mKEyPYaUM=\");\n_c5 = RouteComparisonVisualizer;\nexport default RouteComparisonVisualizer;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"RangeSlider\");\n$RefreshReg$(_c2, \"Dropdown\");\n$RefreshReg$(_c3, \"PlayerNode$React.memo\");\n$RefreshReg$(_c4, \"PlayerNode\");\n$RefreshReg$(_c5, \"RouteComparisonVisualizer\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","useRef","jsxDEV","_jsxDEV","normalizeName","name","toLowerCase","replace","RangeSlider","label","value","min","max","step","onChange","disabled","className","children","Math","round","toFixed","fileName","_jsxFileName","lineNumber","columnNumber","type","e","target","_c","Dropdown","options","map","opt","_c2","useTransitionEffect","targetValue","duration","_s","currentValue","setCurrentValue","animationRef","isNaN","cancelAnimationFrame","current","startValue","startTime","performance","now","animate","time","elapsed","progress","easedProgress","newValue","requestAnimationFrame","PlayerNode","_s2","memo","_c3","d","xPos","yPos","hovered","setHovered","vizMode","defaultColor","controlRanges","cleanId","player","initials","split","n","join","animatedRadius","radius","animatedDiameter","strokeColor","dynamicColor","isFilterActive","maxDefSpeed","defSpeedMax","maxPassLength","passLengthMax","maxTimeToThrow","timeToThrowMax","baseOpacity","isHighlighted","onMouseEnter","onMouseLeave","style","opacity","id","cx","cy","r","fill","x","y","textAnchor","fontSize","fontWeight","pointerEvents","xlinkHref","img","width","height","preserveAspectRatio","clipPath","onError","display","parentNode","querySelector","stroke","strokeWidth","wos","exp","filter","transition","_c4","RouteComparisonVisualizer","_s3","data","setData","minTargets","setMinTargets","isPlaying","setIsPlaying","animationMode","setAnimationMode","setControlRanges","targetsMax","defSpeedMin","timeToThrowMin","setVizMode","sizeBy","colorBy","handleVizModeChange","key","prev","fetch","then","res","text","header","rows","trim","cols","parsed","v","row","forEach","c","i","player_name","Advanced_WOS","exp_sep_xgb","targets","play_id","sep_at_arrival","pass_length","time_to_throw","def_avg_speed","validData","allTargets","allDefSpeeds","allPassLengths","allTimes","floor","ceil","intervalTime","stepValue","maxVal","minVal","modeKey","intervalId","setInterval","clearInterval","processedData","length","filtered","allSizeVals","sizeMin","sizeMax","colorVals","colorMin","colorMax","normalizedSize","normalizedColor","h","statusMessage","parts","sizeMsg","colorMsg","push","W","H","P","xs","ys","xMin","xMax","yMin","yMax","avgX","reduce","a","b","avgY","xScale","yScale","labelSize","labelColor","labelMargin","onClick","xmlns","viewBox","fillRule","clipRule","baseFrequency","numOctaves","stitchTiles","values","mode","in2","dx","dy","stdDeviation","floodColor","floodOpacity","x1","y1","x2","y2","strokeDasharray","transform","isGood","left","top","_c5","$RefreshReg$"],"sources":["/Users/yashviparmar/nfl-viz/src/RouteComparisonVisualizer.jsx"],"sourcesContent":["import React, { useEffect, useState, useMemo, useRef } from 'react';\n\n// --- Utility Functions (Normalize Name, Control Components) ---\n\n// Utility for image paths\nconst normalizeName = (name) => {\n  if (!name) return '';\n  return name\n    .toLowerCase()\n    .replace(/\\./g, '')        \n    .replace(/[^a-z\\s-]/g, '') \n    .replace(/\\s+/g, '-');     \n};\n\n// Range Slider Component (MODIFIED to include 'disabled' prop)\nconst RangeSlider = ({ label, value, min, max, step, onChange, disabled }) => (\n  <div className={`flex flex-col mb-4 p-3 bg-white rounded-lg shadow-sm border border-gray-100 ${disabled ? 'opacity-50 pointer-events-none bg-gray-50' : ''}`}>\n    {/* Use Math.round for display value if step is 1, otherwise toFixed(2) */}\n    <label className=\"text-sm font-semibold text-gray-700 mb-1\">\n        {label}: <span className=\"font-mono text-blue-600\">{step === 1 ? Math.round(value) : value.toFixed(2)}</span>\n    </label>\n    <input \n      type=\"range\"\n      min={min}\n      max={max}\n      step={step}\n      value={value}\n      onChange={(e) => onChange(+e.target.value)}\n      className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg\"\n      disabled={disabled} // Disabled input element\n    />\n  </div>\n);\n\n// Dropdown/Select Component\nconst Dropdown = ({ label, value, options, onChange }) => (\n    <div className=\"flex flex-col mb-4 p-3 bg-white rounded-lg shadow-sm border border-gray-100\">\n      <label className=\"text-sm font-semibold text-gray-700 mb-1\">{label}</label>\n      <select \n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        className=\"block w-full px-3 py-2 text-base border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n      >\n        {options.map(opt => (\n          <option key={opt.value} value={opt.value}>\n            {opt.label}\n          </option>\n        ))}\n      </select>\n    </div>\n);\n\n// --- Custom Hook for smooth transitions (Core Animation Logic) ---\n// This hook is essential for the smooth visual effect when filters change.\nconst useTransitionEffect = (targetValue, duration = 500) => {\n  const [currentValue, setCurrentValue] = useState(targetValue);\n  const animationRef = useRef();\n\n  useEffect(() => {\n    if (isNaN(targetValue)) {\n      setCurrentValue(targetValue);\n      return;\n    }\n    \n    cancelAnimationFrame(animationRef.current);\n\n    const startValue = currentValue;\n    const startTime = performance.now();\n\n    const animate = (time) => {\n      const elapsed = time - startTime;\n      const progress = Math.min(1, elapsed / duration);\n      \n      // Easing function (easeInOutQuad)\n      const easedProgress = progress < 0.5 \n        ? 2 * progress * progress \n        : -1 + (4 - 2 * progress) * progress;\n        \n      const newValue = startValue + (targetValue - startValue) * easedProgress;\n\n      setCurrentValue(newValue);\n\n      if (progress < 1) {\n        animationRef.current = requestAnimationFrame(animate);\n      }\n    };\n\n    animationRef.current = requestAnimationFrame(animate);\n\n    return () => cancelAnimationFrame(animationRef.current);\n  }, [targetValue, duration]);\n\n  return currentValue;\n};\n\n// --- Player Node Component (To encapsulate the animation) ---\n\nconst PlayerNode = React.memo(({ d, xPos, yPos, hovered, setHovered, vizMode, defaultColor, controlRanges }) => {\n  const cleanId = `clip-${normalizeName(d.player)}`;\n  const initials = d.player.split(' ').map(n => n[0]).join('');\n  \n  // Use the hook for smooth transition on the radius\n  const animatedRadius = useTransitionEffect(d.radius);\n  const animatedDiameter = animatedRadius * 2;\n  const strokeColor = d.dynamicColor || defaultColor;\n\n  // Determine overall dimming/highlight based on filter activity\n  const isFilterActive = vizMode.maxDefSpeed < controlRanges.defSpeedMax || \n                         vizMode.maxPassLength < controlRanges.passLengthMax ||\n                         vizMode.maxTimeToThrow < controlRanges.timeToThrowMax;\n                         \n  const baseOpacity = isFilterActive \n    ? (d.isHighlighted ? 1 : 0.2) // Dim if filter is active and not highlighted\n    : 1; // Full opacity if no filter is active\n\n  return (\n    <g \n      key={d.player}\n      onMouseEnter={() => setHovered(d)}\n      onMouseLeave={() => setHovered(null)}\n      className=\"cursor-pointer transition-opacity duration-300\"\n      style={{ \n          // Dim non-hovered players when hovered, or dim non-highlighted players when filter is active\n          opacity: hovered \n                   ? (hovered.player !== d.player ? 0.2 : 1) \n                   : baseOpacity \n      }}\n    >\n      <defs>\n        <clipPath id={cleanId}>\n          <circle cx={xPos} cy={yPos} r={animatedRadius} />\n        </clipPath>\n      </defs>\n\n      {/* 1. FALLBACK CIRCLE & INITIALS (if image fails) */}\n      <circle cx={xPos} cy={yPos} r={animatedRadius} fill=\"#b8b8b8\" />\n      <text \n          x={xPos} y={yPos + 4} textAnchor=\"middle\" \n          fontSize={animatedRadius * 0.8} fontWeight=\"bold\" fill=\"#444\" \n          style={{ pointerEvents: 'none' }} \n      >\n          {initials}\n      </text>\n\n      {/* 2. The Image (Clipped by the circle) */}\n      <image \n        xlinkHref={d.img} \n        x={xPos - animatedRadius} \n        y={yPos - animatedRadius} \n        width={animatedDiameter} \n        height={animatedDiameter} \n        preserveAspectRatio=\"xMidYMid slice\"\n        clipPath={`url(#${cleanId})`}\n        onError={(e) => { \n          e.target.style.display = 'none'; \n          e.target.parentNode.querySelector('circle:first-child').style.display = 'block';\n        }}\n      />\n\n      {/* 3. The Border Circle (Dynamic) */}\n      <circle \n        cx={xPos} cy={yPos} r={animatedRadius} fill=\"none\" \n        stroke={strokeColor} \n        strokeWidth={d.wos > d.exp ? 3 : 2}\n        filter=\"url(#dropShadow)\"\n        // Use CSS transition for color and stroke changes\n        style={{ transition: 'stroke 500ms ease-in-out' }} \n      />\n      \n      {/* 4. PLAYER NAME LABEL */}\n      <text\n        x={xPos}\n        y={yPos + animatedRadius + 12} \n        textAnchor=\"middle\"\n        fontSize=\"10\" \n        fontWeight=\"600\"\n        fill=\"#333\"\n        className=\"pointer-events-none\"\n      >\n        {d.player}\n      </text>\n    </g>\n  );\n});\n\n\nconst RouteComparisonVisualizer = () => {\n  // --- 1. STATE & HOOKS DEFINED UNCONDITIONALLY AT THE TOP ---\n  const [data, setData] = useState([]);\n  const [hovered, setHovered] = useState(null);\n  const [minTargets, setMinTargets] = useState(50);\n  \n  // NEW STATE: Animation Control\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [animationMode, setAnimationMode] = useState('passLength'); // Default mode\n  \n  // State to hold the dynamic min/max values for sliders, set after data load\n  const [controlRanges, setControlRanges] = useState({\n      targetsMax: 100, defSpeedMin: 0, defSpeedMax: 100, \n      passLengthMax: 50, timeToThrowMin: 0, timeToThrowMax: 5\n  });\n\n  // VIZ MODE STATE - Default max values should match controlRanges default maxes\n  const [vizMode, setVizMode] = useState({ \n    sizeBy: 'targets', \n    colorBy: 'none', \n    maxDefSpeed: 100,\n    maxPassLength: 50,\n    maxTimeToThrow: 5,\n  });\n\n  // Handler to update vizMode (for dropdowns and manual sliders)\n  const handleVizModeChange = (key, value) => {\n    setVizMode(prev => ({ ...prev, [key]: value }));\n  };\n\n  /* ----- Data Loading and Range Initialization (Existing) ----- */\n  useEffect(() => {\n    fetch('/data/elite_leaderboard3.csv')\n      .then(res => res.text())\n      .then(text => {\n        // ... (Data parsing logic is unchanged)\n        const [header, ...rows] = text.trim().split('\\n');\n        const cols = header.split(',');\n\n        const parsed = rows.map(r => {\n          const v = r.split(',');\n          const row = {};\n          cols.forEach((c, i) => (row[c] = v[i]));\n          \n          if (!row.player_name) return null;\n\n          return {\n            player: row.player_name,\n            wos: +row.Advanced_WOS,    // X-axis (Created)\n            exp: +row.exp_sep_xgb,     // Y-axis (Expected)\n            targets: +row.play_id,\n            sep_at_arrival: +row.sep_at_arrival,\n            pass_length: +row.pass_length,\n            time_to_throw: +row.time_to_throw,\n            def_avg_speed: +row.def_avg_speed,\n            img: `/headshots/${normalizeName(row.player_name)}.jpg`\n          };\n        });\n\n        const validData = parsed.filter(d => d && !isNaN(d.wos) && !isNaN(d.exp));\n\n        // Calculate dynamic ranges for controls\n        const allTargets = validData.map(d => d.targets);\n        const allDefSpeeds = validData.map(d => d.def_avg_speed);\n        const allPassLengths = validData.map(d => d.pass_length);\n        const allTimes = validData.map(d => d.time_to_throw);\n\n        const targetsMax = Math.max(...allTargets);\n        const defSpeedMin = Math.floor(Math.min(...allDefSpeeds) * 10) / 10;\n        const defSpeedMax = Math.ceil(Math.max(...allDefSpeeds) * 10) / 10;\n        const passLengthMax = Math.ceil(Math.max(...allPassLengths));\n        const timeToThrowMin = Math.floor(Math.min(...allTimes) * 10) / 10;\n        const timeToThrowMax = Math.ceil(Math.max(...allTimes) * 10) / 10;\n\n        // Set the calculated ranges\n        setControlRanges({ \n            targetsMax, defSpeedMin, defSpeedMax, \n            passLengthMax, timeToThrowMin, timeToThrowMax\n        });\n        \n        // Update vizMode to reflect the true maximums by default\n        setVizMode(prev => ({ \n            ...prev, \n            maxDefSpeed: defSpeedMax,\n            maxPassLength: passLengthMax,\n            maxTimeToThrow: timeToThrowMax\n        }));\n\n        setData(validData);\n      });\n  }, []);\n\n\n  /* ----- Core Animation Loop (NEW) ----- */\n  useEffect(() => {\n    // Only run the animation loop if playing AND if ranges have been initialized\n    if (!isPlaying || controlRanges.passLengthMax === 50) {\n      return; \n    }\n\n    const intervalTime = 500; // Time per step in milliseconds\n\n    let stepValue = 0;\n    let maxVal = 0;\n    let minVal = 0;\n    let modeKey = '';\n\n    if (animationMode === 'passLength') {\n        modeKey = 'maxPassLength';\n        maxVal = controlRanges.passLengthMax;\n        minVal = 1; // Minimum realistic pass length\n        stepValue = 1; \n    } else if (animationMode === 'defSpeed') {\n        modeKey = 'maxDefSpeed';\n        maxVal = controlRanges.defSpeedMax;\n        minVal = controlRanges.defSpeedMin;\n        stepValue = 0.05; // Finer step for smooth speed transition\n    }\n    \n    // Ensure the animation starts at the max value\n    setVizMode(prev => ({ ...prev, [modeKey]: maxVal }));\n\n    const intervalId = setInterval(() => {\n      setVizMode(prev => {\n        let newValue = prev[modeKey] - stepValue;\n        \n        // Check if we hit the minimum limit (with tolerance for floating point)\n        if (newValue < minVal - stepValue / 2) {\n          // Reset to max value to loop the animation\n          newValue = maxVal; \n        }\n        \n        return { ...prev, [modeKey]: newValue };\n      });\n    }, intervalTime);\n\n    // Cleanup function to stop the interval\n    return () => clearInterval(intervalId);\n    \n  }, [isPlaying, controlRanges, animationMode]);\n\n\n  /* ----- Filtered and Processed Data Calculation (useMemo #1 - SAFE) ----- */\n  const processedData = useMemo(() => {\n    if (!data.length) return [];\n\n    const { sizeBy, colorBy, maxDefSpeed, maxPassLength, maxTimeToThrow } = vizMode;\n    \n    // Step 1: Apply fixed filters (Minimum Targets)\n    let filtered = data.filter(d => d.targets >= minTargets);\n\n    // Step 2: Apply dynamic range filters (Pass Length, Time to Throw)\n    // Players falling outside these bounds are removed from the plot\n    filtered = filtered.filter(d => \n        d.pass_length <= maxPassLength &&\n        d.time_to_throw <= maxTimeToThrow\n    );\n\n    // Get stats for dynamic sizing/coloring *from the filtered set*\n    const allSizeVals = filtered.map(d => d[sizeBy]);\n    const sizeMin = allSizeVals.length ? Math.min(...allSizeVals) : 0;\n    const sizeMax = allSizeVals.length ? Math.max(...allSizeVals) : 1;\n    \n    // Color scale for non-default mode (Blue to Red HSL)\n    const colorVals = filtered.map(d => d[colorBy] || 0);\n    const colorMin = colorVals.length ? Math.min(...colorVals) : 0;\n    const colorMax = colorVals.length ? Math.max(...colorVals) : 1;\n    \n    return filtered.map(d => {\n      // DYNAMIC RENDERING LOGIC - SIZE\n      const normalizedSize = (d[sizeBy] - sizeMin) / (sizeMax - sizeMin || 1);\n      const radius = Math.min(normalizedSize * 15 + 10, 30); // Base radius: 10, Max: 30\n\n      // DYNAMIC RENDERING LOGIC - COLOR\n      let dynamicColor = '';\n      if (colorBy !== 'none') {\n          const normalizedColor = (d[colorBy] - colorMin) / (colorMax - colorMin || 1);\n          // HSL: H-300 (Blue/Low) to H-0 (Red/High)\n          const h = 300 - (300 * normalizedColor);\n          dynamicColor = `hsl(${h}, 70%, 50%)`;\n      }\n      \n      // Highlight Logic: True if the Defensive Speed filter applies to this player\n      const isHighlighted = d.def_avg_speed <= maxDefSpeed;\n      \n      return {\n        ...d,\n        radius,\n        dynamicColor,\n        // isHighlighted determines if it gets the base opacity (1) or dim opacity (0.2)\n        isHighlighted: isHighlighted \n      };\n    });\n  }, [data, minTargets, vizMode, controlRanges]);\n\n\n  /* ----- Status message for the animated visual (useMemo #2 - SAFE) ----- */\n  const statusMessage = useMemo(() => {\n    let parts = [];\n    \n    let sizeMsg = `Size: ${vizMode.sizeBy === 'targets' ? 'Targets (Volume)' : 'Separation at Arrival'}`;\n    let colorMsg = `Color: ${vizMode.colorBy === 'none' ? 'WOS > EXP (Delta)' : vizMode.colorBy.replace(/_/g, ' ')}`;\n    \n    parts.push(sizeMsg);\n    parts.push(colorMsg);\n\n    // Filter status messages\n    if (vizMode.maxDefSpeed < controlRanges.defSpeedMax) {\n        parts.push(`Max Def Speed: < ${vizMode.maxDefSpeed.toFixed(2)}`);\n    }\n    if (vizMode.maxPassLength < controlRanges.passLengthMax) {\n        parts.push(`Max Pass Length: < ${vizMode.maxPassLength.toFixed(0)} yd`);\n    }\n    if (vizMode.maxTimeToThrow < controlRanges.timeToThrowMax) {\n        parts.push(`Max TTT: < ${vizMode.maxTimeToThrow.toFixed(2)} sec`);\n    }\n    \n    return parts.join(' | ');\n  }, [vizMode, controlRanges]);\n\n\n  // --- 2. CONDITIONAL RETURN (SAFE) ---\n  if (!data.length) return <div className=\"p-10 text-center font-serif text-gray-500\">Loading Chart...</div>;\n\n  /* ----- Config for Video Frame (Non-hook derivations) ----- */\n  const W = 1600; \n  const H = 900;  \n  const P = 120; \n\n  // Stats for scales (based on *original* data)\n  const xs = data.map(d => d.wos);\n  const ys = data.map(d => d.exp);\n  const xMin = Math.min(...xs) - 0.1;\n  const xMax = Math.max(...xs) + 0.1;\n  const yMin = Math.min(...ys) - 0.1;\n  const yMax = Math.max(...ys) + 0.1;\n  const avgX = xs.reduce((a, b) => a + b, 0) / xs.length;\n  const avgY = ys.reduce((a, b) => a + b, 0) / ys.length;\n\n  const xScale = v => P + ((v - xMin) / (xMax - xMin)) * (W - P * 2);\n  const yScale = v => H - P - ((v - yMin) / (yMax - yMin)) * (H - P * 2);\n  \n  const labelSize = 24; \n  const labelColor = '#4a5568';\n  const labelMargin = 25;\n\n\n  return (\n    <div className=\"flex flex-col items-center bg-[#f4f1ea] p-8 rounded-xl shadow-2xl max-w-[1700px] mx-auto font-serif\">\n      \n      {/* Header Section */}\n      <div className=\"mb-6 text-center\">\n        <h2 className=\"text-4xl font-bold text-[#2c2c2c] uppercase tracking-wider\">WR Separation Landscape (Contextualized)</h2>\n        <p className=\"text-[#666] italic mt-1\">Player metrics smoothly transition when situational factors are changed.</p>\n      </div>\n\n      {/* --- ANIMATION CONTROL PANEL (NEW) --- */}\n      <div className=\"w-full flex justify-center items-center mb-6 p-4 bg-blue-100/50 rounded-lg shadow-md border-b border-blue-200\">\n          <div className=\"flex items-center space-x-6\">\n              \n              {/* Animation Mode Dropdown */}\n              <Dropdown\n                  label=\"Animate Filter\"\n                  value={animationMode}\n                  options={[\n                    { value: 'passLength', label: 'Max Pass Length (yd)' },\n                    { value: 'defSpeed', label: 'Max Avg Def Speed (mph)' },\n                  ]}\n                  onChange={(v) => {\n                    setIsPlaying(false); // Stop when changing mode\n                    setAnimationMode(v);\n                    // Reset the filter value to max when changing mode\n                    if (v === 'passLength') {\n                      handleVizModeChange('maxPassLength', controlRanges.passLengthMax);\n                    } else if (v === 'defSpeed') {\n                      handleVizModeChange('maxDefSpeed', controlRanges.defSpeedMax);\n                    }\n                  }}\n                />\n\n              {/* Play/Pause Button */}\n              <button \n                  onClick={() => setIsPlaying(!isPlaying)}\n                  className={`px-6 py-3 rounded-full text-white font-bold transition-all duration-200 flex items-center space-x-2 \n                    ${isPlaying ? 'bg-red-500 hover:bg-red-600' : 'bg-blue-600 hover:bg-blue-700'}`}\n              >\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                      {isPlaying \n                          ? <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM9.5 7.5a.5.5 0 00-.5.5v4a.5.5 0 001 0v-4a.5.5 0 00-.5-.5zM12 7.5a.5.5 0 00-.5.5v4a.5.5 0 001 0v-4a.5.5 0 00-.5-.5z\" clipRule=\"evenodd\" />\n                          : <path d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm-1-6.5a.5.5 0 00.5.5h.5a.5.5 0 00.5-.5V8.5a.5.5 0 00-.5-.5h-.5a.5.5 0 00-.5.5v3z\" />\n                      }\n                  </svg>\n                  <span>{isPlaying ? 'Pause Animation' : 'Play Animation'}</span>\n              </button>\n          </div>\n      </div>\n\n\n      {/* --- CONTROLS PANEL --- */}\n      <div className=\"w-full flex justify-around mb-8 p-4 bg-gray-50 rounded-lg shadow-inner\">\n        \n        {/* Filter Slider: Minimum Targets (Affects which nodes appear) */}\n        <div className=\"w-[18%]\">\n          <RangeSlider\n            label=\"Minimum Targets\"\n            value={minTargets}\n            min={1}\n            max={controlRanges.targetsMax}\n            step={1}\n            onChange={setMinTargets}\n            disabled={false}\n          />\n        </div>\n\n        {/* Dynamic Sizing Dropdown (Affects size of nodes) */}\n        <div className=\"w-[18%]\">\n          <Dropdown\n            label=\"Node Size By\"\n            value={vizMode.sizeBy}\n            options={[\n              { value: 'targets', label: 'Targets (Volume)' },\n              { value: 'sep_at_arrival', label: 'Separation at Arrival' },\n            ]}\n            onChange={(v) => handleVizModeChange('sizeBy', v)}\n          />\n        </div>\n\n        {/* Dynamic Coloring Dropdown (Affects color of nodes) */}\n        <div className=\"w-[18%]\">\n          <Dropdown\n            label=\"Node Color By\"\n            value={vizMode.colorBy}\n            options={[\n              { value: 'none', label: 'WOS > EXP (Default)' },\n              { value: 'time_to_throw', label: 'Time to Throw' },\n              { value: 'pass_length', label: 'Pass Length' },\n            ]}\n            onChange={(v) => handleVizModeChange('colorBy', v)}\n          />\n        </div>\n\n        {/* Pass Length Filter (Filters players to only include targets under this length) */}\n        <div className=\"w-[18%]\">\n          <RangeSlider\n            label={`Max Pass Length (yd)`}\n            value={vizMode.maxPassLength}\n            min={1}\n            max={controlRanges.passLengthMax}\n            step={1}\n            // Logic: Disable if currently playing AND animating this filter\n            onChange={!isPlaying || animationMode !== 'passLength' ? (v) => handleVizModeChange('maxPassLength', v) : () => {}} \n            disabled={isPlaying && animationMode === 'passLength'} \n          />\n        </div>\n\n        {/* Time to Throw Filter (Filters players to only include plays under this time) */}\n        <div className=\"w-[18%]\">\n          <RangeSlider\n            label={`Max Time to Throw (sec)`}\n            value={vizMode.maxTimeToThrow}\n            min={controlRanges.timeToThrowMin}\n            max={controlRanges.timeToThrowMax}\n            step={0.01}\n            onChange={(v) => handleVizModeChange('maxTimeToThrow', v)}\n            disabled={false}\n          />\n        </div>\n\n        {/* Defensive Speed Filter/Highlight (Affects opacity of nodes) */}\n        <div className=\"w-[18%]\">\n          <RangeSlider\n            label={`Max Avg Def Speed (mph)`}\n            value={vizMode.maxDefSpeed}\n            min={controlRanges.defSpeedMin}\n            max={controlRanges.defSpeedMax}\n            step={0.01}\n            // Logic: Disable if currently playing AND animating this filter\n            onChange={!isPlaying || animationMode !== 'defSpeed' ? (v) => handleVizModeChange('maxDefSpeed', v) : () => {}}\n            disabled={isPlaying && animationMode === 'defSpeed'}\n          />\n        </div>\n      </div>\n\n      {/* --- SVG CHART (Unchanged) --- */}\n      <div className=\"relative\">\n        <svg width={W} height={H} className=\"border border-[#dcd9d0] bg-[#f9f7f1]\">\n          \n          {/* ... SVG Definitions and Axes ... */}\n          <defs>\n            <filter id=\"noiseFilter\">\n              <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.8\" numOctaves=\"3\" stitchTiles=\"stitch\"/>\n              <feColorMatrix type=\"matrix\" values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 0.5 0\"/>\n              <feBlend mode=\"multiply\" in2=\"SourceGraphic\" />\n            </filter>\n            <filter id=\"dropShadow\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\n              <feDropShadow dx=\"2\" dy=\"2\" stdDeviation=\"2\" floodColor=\"#000\" floodOpacity=\"0.25\" />\n            </filter>\n          </defs>\n          <rect width={W} height={H} fill=\"transparent\" opacity=\"0.15\" filter=\"url(#noiseFilter)\" pointerEvents=\"none\"/>\n\n          <text x={W - P - labelMargin} y={P + labelSize + labelMargin} textAnchor=\"end\" fontSize={labelSize} fill={labelColor} fontWeight=\"bold\">The Achievers</text>\n          <text x={W - P - labelMargin} y={H - P - labelMargin} textAnchor=\"end\" fontSize={labelSize} fill=\"#10b981\" fontWeight=\"bold\">The Creators</text>\n          <text x={P + labelMargin} y={P + labelSize + labelMargin} textAnchor=\"start\" fontSize={labelSize} fill=\"#ef4444\" fontWeight=\"bold\">The Underperformers</text>\n          <text x={P + labelMargin} y={H - P - labelMargin} textAnchor=\"start\" fontSize={labelSize} fill={labelColor} fontWeight=\"bold\">The Baseline</text>\n\n          <line \n            x1={xScale(Math.max(xMin, yMin))} y1={yScale(Math.max(xMin, yMin))} \n            x2={xScale(Math.min(xMax, yMax))} y2={yScale(Math.min(xMax, yMax))} \n            stroke=\"#999\" strokeWidth=\"2\" strokeDasharray=\"6,6\" \n          />\n\n          <line x1={xScale(avgX)} y1={P} x2={xScale(avgX)} y2={H-P} stroke=\"#444\" strokeWidth=\"1\" strokeDasharray=\"4,4\" />\n          <line x1={P} y1={yScale(avgY)} x2={W-P} y2={yScale(avgY)} stroke=\"#444\" strokeWidth=\"1\" />\n          \n          <text x={W/2} y={H - 40} textAnchor=\"middle\" fontWeight=\"bold\" fill=\"#333\" className=\"uppercase tracking-widest text-lg\">Created Separation (WOS)</text>\n          <text x={40} y={H/2} textAnchor=\"middle\" fontWeight=\"bold\" fill=\"#333\" className=\"uppercase tracking-widest text-lg\" transform={`rotate(-90, 40, ${H/2})`}>Expected Separation</text>\n          \n          {[xMin, avgX, xMax].map((v,i) => (\n            <text key={i} x={xScale(v)} y={H-P+25} textAnchor=\"middle\" fill=\"#111\" fontSize=\"14\">\n              {v.toFixed(2)}\n            </text>\n          ))}\n          \n          {[yMin, avgY, yMax].map((v,i) => (\n            <text key={i} x={P-15} y={yScale(v)} textAnchor=\"end\" fill=\"#111\" fontSize=\"14\" dy=\"0.3em\">\n              {v.toFixed(2)}\n            </text>\n          ))}\n\n\n          {/* --- Player Nodes (Using the animated PlayerNode component) --- */}\n          {processedData.map(d => {\n            const xPos = xScale(d.wos);\n            const yPos = yScale(d.exp);\n            const isGood = d.wos > d.exp;\n            const defaultColor = isGood ? '#10b981' : '#ef4444';\n\n            return (\n              <PlayerNode\n                key={d.player}\n                d={d}\n                xPos={xPos}\n                yPos={yPos}\n                hovered={hovered}\n                setHovered={setHovered}\n                vizMode={vizMode}\n                defaultColor={defaultColor}\n                controlRanges={controlRanges} // Pass ranges for opacity logic\n              />\n            );\n          })}\n        </svg>\n\n        {/* --- Hover Tooltip (Unchanged) --- */}\n        {hovered && (\n          <div \n            className=\"absolute z-50 bg-white/95 backdrop-blur border border-stone-300 shadow-xl p-4 rounded min-w-[250px] pointer-events-none\"\n            style={{ \n              left: xScale(hovered.wos) + 30, \n              top: yScale(hovered.exp) - 40 \n            }}\n          >\n            <div className=\"font-bold text-xl text-stone-800 border-b pb-1 mb-2\">{hovered.player}</div>\n            <div className=\"grid grid-cols-2 gap-x-4 text-sm font-mono text-stone-600\">\n              <span className=\"font-semibold text-black\">Targets:</span> <span className=\"text-right font-bold text-black\">{hovered.targets}</span>\n              <span className=\"font-semibold text-black\">Expected Separation:</span> <span className=\"text-right\">{hovered.exp.toFixed(2)}</span>\n              <span className=\"font-semibold text-black\">Created Separation:</span> <span className=\"text-right text-emerald-600 font-bold\">{hovered.wos.toFixed(2)}</span>\n              <span className=\"mt-2 col-span-2 text-stone-500 italic\">Contextual Data:</span>\n              <span className=\"font-semibold\">Sep. at Arrival:</span> <span className=\"text-right\">{hovered.sep_at_arrival.toFixed(2)}</span>\n              <span className=\"font-semibold\">Pass Length:</span> <span className=\"text-right\">{hovered.pass_length.toFixed(2)}</span>\n              <span className=\"font-semibold\">Time to Throw:</span> <span className=\"text-right\">{hovered.time_to_throw.toFixed(2)}</span>\n              <span className=\"font-semibold\">Avg Def. Speed:</span> <span className=\"text-right\">{hovered.def_avg_speed.toFixed(2)}</span>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* --- Explanation Bar (For Video/Presentation) --- */}\n      <div className=\"w-full text-center mt-4 p-3 text-lg bg-gray-200/50 rounded-lg shadow-inner font-mono text-stone-700 transition duration-500\">\n         <span className=\"font-bold uppercase mr-3\">Visualization Mode:</span> {statusMessage}\n      </div>\n    </div>\n  );\n};\n\nexport default RouteComparisonVisualizer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}