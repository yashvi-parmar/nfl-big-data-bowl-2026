{"ast":null,"code":"var _jsxFileName = \"/Users/yashviparmar/nfl-viz/src/RouteComparisonVisualizer.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useMemo } from 'react';\n\n// Utility for image paths\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst normalizeName = name => {\n  if (!name) return '';\n  return name.toLowerCase().replace(/\\./g, '').replace(/[^a-z\\s-]/g, '').replace(/\\s+/g, '-');\n};\n\n// --- Control Components for the UI (Optional: move to separate files for large apps) ---\n\n// Range Slider Component\nconst RangeSlider = ({\n  label,\n  value,\n  min,\n  max,\n  step,\n  onChange\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex flex-col mb-4 p-3 bg-white rounded-lg shadow-sm border border-gray-100\",\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    className: \"text-sm font-semibold text-gray-700 mb-1\",\n    children: [label, \": \", /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"font-mono text-blue-600\",\n      children: value.toFixed(2)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 74\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n    type: \"range\",\n    min: min,\n    max: max,\n    step: step,\n    value: value,\n    onChange: e => onChange(+e.target.value),\n    className: \"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 17,\n  columnNumber: 3\n}, this);\n\n// Dropdown/Select Component\n_c = RangeSlider;\nconst Dropdown = ({\n  label,\n  value,\n  options,\n  onChange\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex flex-col mb-4 p-3 bg-white rounded-lg shadow-sm border border-gray-100\",\n  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n    className: \"text-sm font-semibold text-gray-700 mb-1\",\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 7\n  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n    value: value,\n    onChange: e => onChange(e.target.value),\n    className: \"block w-full px-3 py-2 text-base border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\",\n    children: options.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: opt.value,\n      children: opt.label\n    }, opt.value, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 7\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 33,\n  columnNumber: 5\n}, this);\n_c2 = Dropdown;\nconst WRSeparationMap = () => {\n  _s();\n  const [data, setData] = useState([]);\n  const [hovered, setHovered] = useState(null);\n\n  // --- 1. STATE FOR INTERACTIVE CONTROLS ---\n  const [minTargets, setMinTargets] = useState(50); // Filter out players with too few targets\n  const [sizeBy, setSizeBy] = useState('targets'); // 'targets' (default), 'sep_at_arrival'\n  const [colorBy, setColorBy] = useState('none'); // 'none' (default: WOS-EXP diff), 'time_to_throw', 'pass_length'\n  const [maxDefSpeed, setMaxDefSpeed] = useState(100); // Filter/Highlight based on defender speed\n\n  useEffect(() => {\n    // Note: The structure of your CSV line for one player is:\n    // Rashee Rice,0.8315470224030641,3.9343921513480056,3.1028452,70,7.757142857142857,2.7957142857142854,1.5804479591836735\n\n    fetch('/data/elite_leaderboard3.csv').then(res => res.text()).then(text => {\n      const [header, ...rows] = text.trim().split('\\n');\n      const cols = header.split(',');\n      const parsed = rows.map(r => {\n        const v = r.split(',');\n        const row = {};\n        cols.forEach((c, i) => row[c] = v[i]);\n        if (!row.player_name) return null;\n\n        // 2. PARSING ADDITIONAL NUMERIC DATA\n        return {\n          player: row.player_name,\n          wos: +row.Advanced_WOS,\n          // X-axis (Created)\n          exp: +row.exp_sep_xgb,\n          // Y-axis (Expected)\n          targets: +row.play_id,\n          // Used for size filter/scale\n          sep_at_arrival: +row.sep_at_arrival,\n          pass_length: +row.pass_length,\n          time_to_throw: +row.time_to_throw,\n          def_avg_speed: +row.def_avg_speed,\n          img: `/headshots/${normalizeName(row.player_name)}.jpg`\n        };\n      });\n      setData(parsed.filter(d => d && !isNaN(d.wos) && !isNaN(d.exp)));\n    });\n  }, []);\n\n  /* ----- Filtered and Processed Data Calculation (useMemo for performance) ----- */\n  const processedData = useMemo(() => {\n    if (!data.length) return [];\n\n    // Apply the minimum targets filter\n    let filtered = data.filter(d => d.targets >= minTargets);\n\n    // Get stats for dynamic sizing/coloring\n    const allSizeVals = filtered.map(d => d[sizeBy]);\n    const allColorVals = filtered.map(d => d[colorBy]);\n    const sizeMin = Math.min(...allSizeVals);\n    const sizeMax = Math.max(...allSizeVals);\n    const colorMin = Math.min(...allColorVals);\n    const colorMax = Math.max(...allColorVals);\n\n    // Normalize and add computed radius/color to each data point\n    return filtered.map(d => {\n      // 3. DYNAMIC RENDERING LOGIC - SIZE\n      const normalizedSize = (d[sizeBy] - sizeMin) / (sizeMax - sizeMin);\n      const radius = Math.min(normalizedSize * 15 + 10, 30); // Base radius: 10, Max: 30\n\n      // DYNAMIC RENDERING LOGIC - COLOR\n      let dynamicColor = '';\n      if (colorBy !== 'none') {\n        const normalizedColor = (d[colorBy] - colorMin) / (colorMax - colorMin);\n        // Simple gradient from Blue (low) to Red (high)\n        // Uses HSL: H-300 (Blue) to H-0 (Red)\n        const h = 300 - 300 * normalizedColor;\n        dynamicColor = `hsl(${h}, 70%, 50%)`;\n      }\n      return {\n        ...d,\n        radius,\n        dynamicColor,\n        // Highlight logic for def_avg_speed\n        isHighlighted: maxDefSpeed < 100 && d.def_avg_speed <= maxDefSpeed\n      };\n    });\n  }, [data, minTargets, sizeBy, colorBy, maxDefSpeed]);\n  if (!data.length) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-10 text-center font-serif text-gray-500\",\n    children: \"Loading Chart...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 28\n  }, this);\n\n  /* ----- Config for Video Frame ----- */\n  const W = 1600; // Chart width\n  const H = 900; // Chart height\n  const P = 120; // Padding\n\n  // Stats for scales (calculated from the *original* data to maintain consistent axes)\n  const xs = data.map(d => d.wos);\n  const ys = data.map(d => d.exp);\n  const xMin = Math.min(...xs) - 0.1;\n  const xMax = Math.max(...xs) + 0.1;\n  const yMin = Math.min(...ys) - 0.1;\n  const yMax = Math.max(...ys) + 0.1;\n  const avgX = xs.reduce((a, b) => a + b, 0) / xs.length;\n  const avgY = ys.reduce((a, b) => a + b, 0) / ys.length;\n  const xScale = v => P + (v - xMin) / (xMax - xMin) * (W - P * 2);\n  const yScale = v => H - P - (v - yMin) / (yMax - yMin) * (H - P * 2);\n  const labelSize = 24;\n  const labelColor = '#4a5568';\n  const labelMargin = 25;\n\n  // Find min/max for defensive speed for the slider\n  const defSpeedMin = Math.floor(Math.min(...data.map(d => d.def_avg_speed)) * 10) / 10;\n  const defSpeedMax = Math.ceil(Math.max(...data.map(d => d.def_avg_speed)) * 10) / 10;\n  const targetsMax = Math.max(...data.map(d => d.targets));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center bg-[#f4f1ea] p-8 rounded-xl shadow-2xl max-w-[1700px] mx-auto font-serif\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-4xl font-bold text-[#2c2c2c] uppercase tracking-wider\",\n        children: \"WR Separation Landscape (Interactive)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-[#666] italic mt-1\",\n        children: \"Explore the impact of situational factors on Player Performance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full flex justify-around mb-8 p-4 bg-gray-50 rounded-lg shadow-inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/5\",\n        children: /*#__PURE__*/_jsxDEV(RangeSlider, {\n          label: \"Minimum Targets\",\n          value: minTargets,\n          min: 1,\n          max: targetsMax,\n          step: 1,\n          onChange: setMinTargets\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/5\",\n        children: /*#__PURE__*/_jsxDEV(Dropdown, {\n          label: \"Node Size By\",\n          value: sizeBy,\n          options: [{\n            value: 'targets',\n            label: 'Targets (Volume)'\n          }, {\n            value: 'sep_at_arrival',\n            label: 'Separation at Arrival'\n          }],\n          onChange: setSizeBy\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/5\",\n        children: /*#__PURE__*/_jsxDEV(Dropdown, {\n          label: \"Node Color By\",\n          value: colorBy,\n          options: [{\n            value: 'none',\n            label: 'WOS > EXP (Default)'\n          }, {\n            value: 'time_to_throw',\n            label: 'Time to Throw'\n          }, {\n            value: 'pass_length',\n            label: 'Pass Length'\n          }],\n          onChange: setColorBy\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/5\",\n        children: /*#__PURE__*/_jsxDEV(RangeSlider, {\n          label: `Max Avg Def Speed (Highlight)`,\n          value: maxDefSpeed,\n          min: defSpeedMin,\n          max: defSpeedMax,\n          step: 0.01,\n          onChange: setMaxDefSpeed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        width: W,\n        height: H,\n        className: \"border border-[#dcd9d0] bg-[#f9f7f1]\",\n        children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n          children: [/*#__PURE__*/_jsxDEV(\"filter\", {\n            id: \"noiseFilter\",\n            children: [/*#__PURE__*/_jsxDEV(\"feTurbulence\", {\n              type: \"fractalNoise\",\n              baseFrequency: \"0.8\",\n              numOctaves: \"3\",\n              stitchTiles: \"stitch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"feColorMatrix\", {\n              type: \"matrix\",\n              values: \"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 0.5 0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"feBlend\", {\n              mode: \"multiply\",\n              in2: \"SourceGraphic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"filter\", {\n            id: \"dropShadow\",\n            x: \"-20%\",\n            y: \"-20%\",\n            width: \"140%\",\n            height: \"140%\",\n            children: /*#__PURE__*/_jsxDEV(\"feDropShadow\", {\n              dx: \"2\",\n              dy: \"2\",\n              stdDeviation: \"2\",\n              floodColor: \"#000\",\n              floodOpacity: \"0.25\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n          width: W,\n          height: H,\n          fill: \"transparent\",\n          opacity: \"0.15\",\n          filter: \"url(#noiseFilter)\",\n          pointerEvents: \"none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: W - P - labelMargin,\n          y: P + labelSize + labelMargin,\n          textAnchor: \"end\",\n          fontSize: labelSize,\n          fill: labelColor,\n          fontWeight: \"bold\",\n          children: \"The Achievers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: W - P - labelMargin,\n          y: H - P - labelMargin,\n          textAnchor: \"end\",\n          fontSize: labelSize,\n          fill: \"#10b981\",\n          fontWeight: \"bold\",\n          children: \"The Creators\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: P + labelMargin,\n          y: P + labelSize + labelMargin,\n          textAnchor: \"start\",\n          fontSize: labelSize,\n          fill: \"#ef4444\",\n          fontWeight: \"bold\",\n          children: \"The Underperformers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: P + labelMargin,\n          y: H - P - labelMargin,\n          textAnchor: \"start\",\n          fontSize: labelSize,\n          fill: labelColor,\n          fontWeight: \"bold\",\n          children: \"The Baseline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: xScale(Math.max(xMin, yMin)),\n          y1: yScale(Math.max(xMin, yMin)),\n          x2: xScale(Math.min(xMax, yMax)),\n          y2: yScale(Math.min(xMax, yMax)),\n          stroke: \"#999\",\n          strokeWidth: \"2\",\n          strokeDasharray: \"6,6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: xScale(avgX),\n          y1: P,\n          x2: xScale(avgX),\n          y2: H - P,\n          stroke: \"#444\",\n          strokeWidth: \"1\",\n          strokeDasharray: \"4,4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: P,\n          y1: yScale(avgY),\n          x2: W - P,\n          y2: yScale(avgY),\n          stroke: \"#444\",\n          strokeWidth: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: W / 2,\n          y: H - 40,\n          textAnchor: \"middle\",\n          fontWeight: \"bold\",\n          fill: \"#333\",\n          className: \"uppercase tracking-widest text-lg\",\n          children: \"Created Separation (WOS)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: 40,\n          y: H / 2,\n          textAnchor: \"middle\",\n          fontWeight: \"bold\",\n          fill: \"#333\",\n          className: \"uppercase tracking-widest text-lg\",\n          transform: `rotate(-90, 40, ${H / 2})`,\n          children: \"Expected Separation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), [xMin, avgX, xMax].map((v, i) => /*#__PURE__*/_jsxDEV(\"text\", {\n          x: xScale(v),\n          y: H - P + 25,\n          textAnchor: \"middle\",\n          fill: \"#111\",\n          fontSize: \"14\",\n          children: v.toFixed(2)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this)), [yMin, avgY, yMax].map((v, i) => /*#__PURE__*/_jsxDEV(\"text\", {\n          x: P - 15,\n          y: yScale(v),\n          textAnchor: \"end\",\n          fill: \"#111\",\n          fontSize: \"14\",\n          dy: \"0.3em\",\n          children: v.toFixed(2)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this)), processedData.map(d => {\n          const radius = d.radius;\n          const diameter = radius * 2;\n          const xPos = xScale(d.wos);\n          const yPos = yScale(d.exp);\n          const cleanId = `clip-${normalizeName(d.player)}`;\n          const isGood = d.wos > d.exp;\n\n          // 4. DYNAMIC STYLING\n          const defaultStrokeColor = isGood ? '#10b981' : '#ef4444';\n          const strokeColor = d.dynamicColor || defaultStrokeColor;\n          const initials = d.player.split(' ').map(n => n[0]).join('');\n          return /*#__PURE__*/_jsxDEV(\"g\", {\n            onMouseEnter: () => setHovered(d),\n            onMouseLeave: () => setHovered(null),\n            className: \"cursor-pointer transition-opacity duration-300\",\n            style: {\n              opacity: d.isHighlighted ? 1 : maxDefSpeed < 100 ? 0.2 :\n              // Dim non-highlighted players when filter is active\n              hovered && hovered.player !== d.player ? 0.2 : 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n              children: /*#__PURE__*/_jsxDEV(\"clipPath\", {\n                id: cleanId,\n                children: /*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: xPos,\n                  cy: yPos,\n                  r: radius\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: xPos,\n              cy: yPos,\n              r: radius,\n              fill: \"#b8b8b8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              x: xPos,\n              y: yPos + 4,\n              textAnchor: \"middle\",\n              fontSize: radius * 0.8,\n              fontWeight: \"bold\",\n              fill: \"#444\",\n              style: {\n                pointerEvents: 'none'\n              },\n              children: initials\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"image\", {\n              xlinkHref: d.img,\n              x: xPos - radius,\n              y: yPos - radius,\n              width: diameter,\n              height: diameter,\n              preserveAspectRatio: \"xMidYMid slice\",\n              clipPath: `url(#${cleanId})`,\n              onError: e => {\n                e.target.style.display = 'none';\n                e.target.parentNode.querySelector('circle:first-child').style.display = 'block';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: xPos,\n              cy: yPos,\n              r: radius,\n              fill: \"none\",\n              stroke: strokeColor,\n              strokeWidth: isGood ? 3 : 2,\n              filter: \"url(#dropShadow)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              x: xPos,\n              y: yPos + radius + 12,\n              textAnchor: \"middle\",\n              fontSize: \"10\",\n              fontWeight: \"600\",\n              fill: \"#333\",\n              className: \"pointer-events-none\",\n              children: d.player\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 17\n            }, this)]\n          }, d.player, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), hovered && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute z-50 bg-white/95 backdrop-blur border border-stone-300 shadow-xl p-4 rounded min-w-[250px] pointer-events-none\",\n        style: {\n          left: xScale(hovered.wos) + 30,\n          top: yScale(hovered.exp) - 40\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-bold text-xl text-stone-800 border-b pb-1 mb-2\",\n          children: hovered.player\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-x-4 text-sm font-mono text-stone-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-black\",\n            children: \"Targets:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right font-bold text-black\",\n            children: hovered.targets\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 74\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-black\",\n            children: \"Expected Separation:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right\",\n            children: hovered.exp.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 86\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-black\",\n            children: \"Created Separation:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right text-emerald-600 font-bold\",\n            children: hovered.wos.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 85\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mt-2 col-span-2 text-stone-500 italic\",\n            children: \"Contextual Data:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Sep. at Arrival:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right\",\n            children: hovered.sep_at_arrival.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 71\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Pass Length:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right\",\n            children: hovered.pass_length.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 67\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Time to Throw:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right\",\n            children: hovered.time_to_throw.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 69\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold\",\n            children: \"Avg Def. Speed:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-right\",\n            children: hovered.def_avg_speed.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 70\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full text-right mt-2 text-xs text-stone-400 font-mono\",\n      children: [\"axis: league avg \\u2022 node size: \", sizeBy, \" \\u2022 node color: \", colorBy === 'none' ? 'performance delta' : colorBy]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 5\n  }, this);\n};\n_s(WRSeparationMap, \"v7Vx8hHJj07DA/QL6Oby5V0ix+Q=\");\n_c3 = WRSeparationMap;\nexport default WRSeparationMap;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"RangeSlider\");\n$RefreshReg$(_c2, \"Dropdown\");\n$RefreshReg$(_c3, \"WRSeparationMap\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","jsxDEV","_jsxDEV","normalizeName","name","toLowerCase","replace","RangeSlider","label","value","min","max","step","onChange","className","children","toFixed","fileName","_jsxFileName","lineNumber","columnNumber","type","e","target","_c","Dropdown","options","map","opt","_c2","WRSeparationMap","_s","data","setData","hovered","setHovered","minTargets","setMinTargets","sizeBy","setSizeBy","colorBy","setColorBy","maxDefSpeed","setMaxDefSpeed","fetch","then","res","text","header","rows","trim","split","cols","parsed","r","v","row","forEach","c","i","player_name","player","wos","Advanced_WOS","exp","exp_sep_xgb","targets","play_id","sep_at_arrival","pass_length","time_to_throw","def_avg_speed","img","filter","d","isNaN","processedData","length","filtered","allSizeVals","allColorVals","sizeMin","Math","sizeMax","colorMin","colorMax","normalizedSize","radius","dynamicColor","normalizedColor","h","isHighlighted","W","H","P","xs","ys","xMin","xMax","yMin","yMax","avgX","reduce","a","b","avgY","xScale","yScale","labelSize","labelColor","labelMargin","defSpeedMin","floor","defSpeedMax","ceil","targetsMax","width","height","id","baseFrequency","numOctaves","stitchTiles","values","mode","in2","x","y","dx","dy","stdDeviation","floodColor","floodOpacity","fill","opacity","pointerEvents","textAnchor","fontSize","fontWeight","x1","y1","x2","y2","stroke","strokeWidth","strokeDasharray","transform","diameter","xPos","yPos","cleanId","isGood","defaultStrokeColor","strokeColor","initials","n","join","onMouseEnter","onMouseLeave","style","cx","cy","xlinkHref","preserveAspectRatio","clipPath","onError","display","parentNode","querySelector","left","top","_c3","$RefreshReg$"],"sources":["/Users/yashviparmar/nfl-viz/src/RouteComparisonVisualizer.jsx"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\n\n// Utility for image paths\nconst normalizeName = (name) => {\n  if (!name) return '';\n  return name\n    .toLowerCase()\n    .replace(/\\./g, '')        \n    .replace(/[^a-z\\s-]/g, '') \n    .replace(/\\s+/g, '-');     \n};\n\n// --- Control Components for the UI (Optional: move to separate files for large apps) ---\n\n// Range Slider Component\nconst RangeSlider = ({ label, value, min, max, step, onChange }) => (\n  <div className=\"flex flex-col mb-4 p-3 bg-white rounded-lg shadow-sm border border-gray-100\">\n    <label className=\"text-sm font-semibold text-gray-700 mb-1\">{label}: <span className=\"font-mono text-blue-600\">{value.toFixed(2)}</span></label>\n    <input \n      type=\"range\"\n      min={min}\n      max={max}\n      step={step}\n      value={value}\n      onChange={(e) => onChange(+e.target.value)}\n      className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg\"\n    />\n  </div>\n);\n\n// Dropdown/Select Component\nconst Dropdown = ({ label, value, options, onChange }) => (\n    <div className=\"flex flex-col mb-4 p-3 bg-white rounded-lg shadow-sm border border-gray-100\">\n      <label className=\"text-sm font-semibold text-gray-700 mb-1\">{label}</label>\n      <select \n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        className=\"block w-full px-3 py-2 text-base border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n      >\n        {options.map(opt => (\n          <option key={opt.value} value={opt.value}>\n            {opt.label}\n          </option>\n        ))}\n      </select>\n    </div>\n);\n\n\nconst WRSeparationMap = () => {\n  const [data, setData] = useState([]);\n  const [hovered, setHovered] = useState(null);\n\n  // --- 1. STATE FOR INTERACTIVE CONTROLS ---\n  const [minTargets, setMinTargets] = useState(50); // Filter out players with too few targets\n  const [sizeBy, setSizeBy] = useState('targets'); // 'targets' (default), 'sep_at_arrival'\n  const [colorBy, setColorBy] = useState('none');  // 'none' (default: WOS-EXP diff), 'time_to_throw', 'pass_length'\n  const [maxDefSpeed, setMaxDefSpeed] = useState(100); // Filter/Highlight based on defender speed\n\n  useEffect(() => {\n    // Note: The structure of your CSV line for one player is:\n    // Rashee Rice,0.8315470224030641,3.9343921513480056,3.1028452,70,7.757142857142857,2.7957142857142854,1.5804479591836735\n    \n    fetch('/data/elite_leaderboard3.csv')\n      .then(res => res.text())\n      .then(text => {\n        const [header, ...rows] = text.trim().split('\\n');\n        const cols = header.split(',');\n\n        const parsed = rows.map(r => {\n          const v = r.split(',');\n          const row = {};\n          cols.forEach((c, i) => (row[c] = v[i]));\n          \n          if (!row.player_name) return null;\n\n          // 2. PARSING ADDITIONAL NUMERIC DATA\n          return {\n            player: row.player_name,\n            wos: +row.Advanced_WOS,    // X-axis (Created)\n            exp: +row.exp_sep_xgb,     // Y-axis (Expected)\n            targets: +row.play_id,     // Used for size filter/scale\n            sep_at_arrival: +row.sep_at_arrival,\n            pass_length: +row.pass_length,\n            time_to_throw: +row.time_to_throw,\n            def_avg_speed: +row.def_avg_speed,\n            img: `/headshots/${normalizeName(row.player_name)}.jpg`\n          };\n        });\n\n        setData(parsed.filter(d => d && !isNaN(d.wos) && !isNaN(d.exp)));\n      });\n  }, []);\n\n  /* ----- Filtered and Processed Data Calculation (useMemo for performance) ----- */\n  const processedData = useMemo(() => {\n    if (!data.length) return [];\n\n    // Apply the minimum targets filter\n    let filtered = data.filter(d => d.targets >= minTargets);\n\n    // Get stats for dynamic sizing/coloring\n    const allSizeVals = filtered.map(d => d[sizeBy]);\n    const allColorVals = filtered.map(d => d[colorBy]);\n\n    const sizeMin = Math.min(...allSizeVals);\n    const sizeMax = Math.max(...allSizeVals);\n    const colorMin = Math.min(...allColorVals);\n    const colorMax = Math.max(...allColorVals);\n    \n    // Normalize and add computed radius/color to each data point\n    return filtered.map(d => {\n      // 3. DYNAMIC RENDERING LOGIC - SIZE\n      const normalizedSize = (d[sizeBy] - sizeMin) / (sizeMax - sizeMin);\n      const radius = Math.min(normalizedSize * 15 + 10, 30); // Base radius: 10, Max: 30\n\n      // DYNAMIC RENDERING LOGIC - COLOR\n      let dynamicColor = '';\n      if (colorBy !== 'none') {\n          const normalizedColor = (d[colorBy] - colorMin) / (colorMax - colorMin);\n          // Simple gradient from Blue (low) to Red (high)\n          // Uses HSL: H-300 (Blue) to H-0 (Red)\n          const h = 300 - (300 * normalizedColor);\n          dynamicColor = `hsl(${h}, 70%, 50%)`;\n      }\n      \n      return {\n        ...d,\n        radius,\n        dynamicColor,\n        // Highlight logic for def_avg_speed\n        isHighlighted: maxDefSpeed < 100 && d.def_avg_speed <= maxDefSpeed\n      };\n    });\n  }, [data, minTargets, sizeBy, colorBy, maxDefSpeed]);\n\n  if (!data.length) return <div className=\"p-10 text-center font-serif text-gray-500\">Loading Chart...</div>;\n\n  /* ----- Config for Video Frame ----- */\n  const W = 1600; // Chart width\n  const H = 900;  // Chart height\n  const P = 120;  // Padding\n\n  // Stats for scales (calculated from the *original* data to maintain consistent axes)\n  const xs = data.map(d => d.wos);\n  const ys = data.map(d => d.exp);\n  const xMin = Math.min(...xs) - 0.1;\n  const xMax = Math.max(...xs) + 0.1;\n  const yMin = Math.min(...ys) - 0.1;\n  const yMax = Math.max(...ys) + 0.1;\n  const avgX = xs.reduce((a, b) => a + b, 0) / xs.length;\n  const avgY = ys.reduce((a, b) => a + b, 0) / ys.length;\n\n  const xScale = v => P + ((v - xMin) / (xMax - xMin)) * (W - P * 2);\n  const yScale = v => H - P - ((v - yMin) / (yMax - yMin)) * (H - P * 2);\n  \n  const labelSize = 24; \n  const labelColor = '#4a5568';\n  const labelMargin = 25;\n\n  // Find min/max for defensive speed for the slider\n  const defSpeedMin = Math.floor(Math.min(...data.map(d => d.def_avg_speed)) * 10) / 10;\n  const defSpeedMax = Math.ceil(Math.max(...data.map(d => d.def_avg_speed)) * 10) / 10;\n  const targetsMax = Math.max(...data.map(d => d.targets));\n\n\n  return (\n    <div className=\"flex flex-col items-center bg-[#f4f1ea] p-8 rounded-xl shadow-2xl max-w-[1700px] mx-auto font-serif\">\n      \n      {/* Header Section */}\n      <div className=\"mb-6 text-center\">\n        <h2 className=\"text-4xl font-bold text-[#2c2c2c] uppercase tracking-wider\">WR Separation Landscape (Interactive)</h2>\n        <p className=\"text-[#666] italic mt-1\">Explore the impact of situational factors on Player Performance</p>\n      </div>\n\n      {/* --- 3. CONTROLS PANEL --- */}\n      <div className=\"w-full flex justify-around mb-8 p-4 bg-gray-50 rounded-lg shadow-inner\">\n        \n        {/* Filter Slider: Minimum Targets */}\n        <div className=\"w-1/5\">\n          <RangeSlider\n            label=\"Minimum Targets\"\n            value={minTargets}\n            min={1}\n            max={targetsMax}\n            step={1}\n            onChange={setMinTargets}\n          />\n        </div>\n\n        {/* Dynamic Sizing Dropdown */}\n        <div className=\"w-1/5\">\n          <Dropdown\n            label=\"Node Size By\"\n            value={sizeBy}\n            options={[\n              { value: 'targets', label: 'Targets (Volume)' },\n              { value: 'sep_at_arrival', label: 'Separation at Arrival' },\n            ]}\n            onChange={setSizeBy}\n          />\n        </div>\n\n        {/* Dynamic Coloring Dropdown */}\n        <div className=\"w-1/5\">\n          <Dropdown\n            label=\"Node Color By\"\n            value={colorBy}\n            options={[\n              { value: 'none', label: 'WOS > EXP (Default)' },\n              { value: 'time_to_throw', label: 'Time to Throw' },\n              { value: 'pass_length', label: 'Pass Length' },\n            ]}\n            onChange={setColorBy}\n          />\n        </div>\n\n        {/* Defensive Speed Filter/Highlight */}\n        <div className=\"w-1/5\">\n          <RangeSlider\n            label={`Max Avg Def Speed (Highlight)`}\n            value={maxDefSpeed}\n            min={defSpeedMin}\n            max={defSpeedMax}\n            step={0.01}\n            onChange={setMaxDefSpeed}\n          />\n        </div>\n      </div>\n\n\n      {/* --- SVG CHART --- */}\n      <div className=\"relative\">\n        <svg width={W} height={H} className=\"border border-[#dcd9d0] bg-[#f9f7f1]\">\n          \n          {/* --- Background Definitions --- (Unchanged) */}\n          <defs>\n            <filter id=\"noiseFilter\">\n              <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.8\" numOctaves=\"3\" stitchTiles=\"stitch\"/>\n              <feColorMatrix type=\"matrix\" values=\"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 0.5 0\"/>\n              <feBlend mode=\"multiply\" in2=\"SourceGraphic\" />\n            </filter>\n            <filter id=\"dropShadow\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\n              <feDropShadow dx=\"2\" dy=\"2\" stdDeviation=\"2\" floodColor=\"#000\" floodOpacity=\"0.25\" />\n            </filter>\n          </defs>\n\n          {/* Paper Noise Texture */}\n          <rect width={W} height={H} fill=\"transparent\" opacity=\"0.15\" filter=\"url(#noiseFilter)\" pointerEvents=\"none\"/>\n\n          {/* --- Quadrant Labels --- (Unchanged) */}\n          <text x={W - P - labelMargin} y={P + labelSize + labelMargin} textAnchor=\"end\" fontSize={labelSize} fill={labelColor} fontWeight=\"bold\">The Achievers</text>\n          <text x={W - P - labelMargin} y={H - P - labelMargin} textAnchor=\"end\" fontSize={labelSize} fill=\"#10b981\" fontWeight=\"bold\">The Creators</text>\n          <text x={P + labelMargin} y={P + labelSize + labelMargin} textAnchor=\"start\" fontSize={labelSize} fill=\"#ef4444\" fontWeight=\"bold\">The Underperformers</text>\n          <text x={P + labelMargin} y={H - P - labelMargin} textAnchor=\"start\" fontSize={labelSize} fill={labelColor} fontWeight=\"bold\">The Baseline</text>\n\n          {/* --- Diagonal 1:1 Reference Line --- (Unchanged) */}\n          <line \n            x1={xScale(Math.max(xMin, yMin))} y1={yScale(Math.max(xMin, yMin))} \n            x2={xScale(Math.min(xMax, yMax))} y2={yScale(Math.min(xMax, yMax))} \n            stroke=\"#999\" strokeWidth=\"2\" strokeDasharray=\"6,6\" \n          />\n\n          {/* --- Axes --- (Unchanged) */}\n          <line x1={xScale(avgX)} y1={P} x2={xScale(avgX)} y2={H-P} stroke=\"#444\" strokeWidth=\"1\" strokeDasharray=\"4,4\" />\n          <line x1={P} y1={yScale(avgY)} x2={W-P} y2={yScale(avgY)} stroke=\"#444\" strokeWidth=\"1\" />\n          \n          <text x={W/2} y={H - 40} textAnchor=\"middle\" fontWeight=\"bold\" fill=\"#333\" className=\"uppercase tracking-widest text-lg\">Created Separation (WOS)</text>\n          <text x={40} y={H/2} textAnchor=\"middle\" fontWeight=\"bold\" fill=\"#333\" className=\"uppercase tracking-widest text-lg\" transform={`rotate(-90, 40, ${H/2})`}>Expected Separation</text>\n          \n          {/* X-axis ticks */}\n          {[xMin, avgX, xMax].map((v,i) => (\n            <text key={i} x={xScale(v)} y={H-P+25} textAnchor=\"middle\" fill=\"#111\" fontSize=\"14\">\n              {v.toFixed(2)}\n            </text>\n          ))}\n          \n          {/* Y-axis ticks */}\n          {[yMin, avgY, yMax].map((v,i) => (\n            <text key={i} x={P-15} y={yScale(v)} textAnchor=\"end\" fill=\"#111\" fontSize=\"14\" dy=\"0.3em\">\n              {v.toFixed(2)}\n            </text>\n          ))}\n\n\n          {/* --- Player Nodes and Names (Using processedData) --- */}\n          {processedData.map(d => {\n            const radius = d.radius; \n            const diameter = radius * 2;\n            const xPos = xScale(d.wos);\n            const yPos = yScale(d.exp);\n            \n            const cleanId = `clip-${normalizeName(d.player)}`;\n            const isGood = d.wos > d.exp;\n            \n            // 4. DYNAMIC STYLING\n            const defaultStrokeColor = isGood ? '#10b981' : '#ef4444';\n            const strokeColor = d.dynamicColor || defaultStrokeColor;\n\n            const initials = d.player.split(' ').map(n => n[0]).join('');\n\n            return (\n              <g \n                key={d.player}\n                onMouseEnter={() => setHovered(d)}\n                onMouseLeave={() => setHovered(null)}\n                className=\"cursor-pointer transition-opacity duration-300\"\n                style={{ \n                    opacity: d.isHighlighted ? 1 : \n                             maxDefSpeed < 100 ? 0.2 : // Dim non-highlighted players when filter is active\n                             hovered && hovered.player !== d.player ? 0.2 : 1 \n                }}\n              >\n                <defs>\n                  <clipPath id={cleanId}>\n                    <circle cx={xPos} cy={yPos} r={radius} />\n                  </clipPath>\n                </defs>\n\n                {/* 1. FALLBACK CIRCLE & INITIALS (if image fails) */}\n                <circle cx={xPos} cy={yPos} r={radius} fill=\"#b8b8b8\" />\n                <text \n                    x={xPos} y={yPos + 4} textAnchor=\"middle\" \n                    fontSize={radius * 0.8} fontWeight=\"bold\" fill=\"#444\" \n                    style={{ pointerEvents: 'none' }} \n                >\n                    {initials}\n                </text>\n\n                {/* 2. The Image (Clipped by the circle) */}\n                <image \n                  xlinkHref={d.img} \n                  x={xPos - radius} \n                  y={yPos - radius} \n                  width={diameter} \n                  height={diameter} \n                  preserveAspectRatio=\"xMidYMid slice\"\n                  clipPath={`url(#${cleanId})`}\n                  onError={(e) => { \n                    e.target.style.display = 'none'; \n                    e.target.parentNode.querySelector('circle:first-child').style.display = 'block';\n                  }}\n                />\n\n                {/* 3. The Border Circle (Dynamic) */}\n                <circle \n                  cx={xPos} cy={yPos} r={radius} fill=\"none\" \n                  stroke={strokeColor} strokeWidth={isGood ? 3 : 2}\n                  filter=\"url(#dropShadow)\"\n                />\n                \n                {/* 4. PLAYER NAME LABEL */}\n                <text\n                  x={xPos}\n                  y={yPos + radius + 12} \n                  textAnchor=\"middle\"\n                  fontSize=\"10\" \n                  fontWeight=\"600\"\n                  fill=\"#333\"\n                  className=\"pointer-events-none\"\n                >\n                  {d.player}\n                </text>\n              </g>\n            );\n          })}\n        </svg>\n\n        {/* --- Hover Tooltip --- */}\n        {hovered && (\n          <div \n            className=\"absolute z-50 bg-white/95 backdrop-blur border border-stone-300 shadow-xl p-4 rounded min-w-[250px] pointer-events-none\"\n            style={{ \n              left: xScale(hovered.wos) + 30, \n              top: yScale(hovered.exp) - 40 \n            }}\n          >\n            <div className=\"font-bold text-xl text-stone-800 border-b pb-1 mb-2\">{hovered.player}</div>\n            <div className=\"grid grid-cols-2 gap-x-4 text-sm font-mono text-stone-600\">\n              <span className=\"font-semibold text-black\">Targets:</span> <span className=\"text-right font-bold text-black\">{hovered.targets}</span>\n              <span className=\"font-semibold text-black\">Expected Separation:</span> <span className=\"text-right\">{hovered.exp.toFixed(2)}</span>\n              <span className=\"font-semibold text-black\">Created Separation:</span> <span className=\"text-right text-emerald-600 font-bold\">{hovered.wos.toFixed(2)}</span>\n              <span className=\"mt-2 col-span-2 text-stone-500 italic\">Contextual Data:</span>\n              <span className=\"font-semibold\">Sep. at Arrival:</span> <span className=\"text-right\">{hovered.sep_at_arrival.toFixed(2)}</span>\n              <span className=\"font-semibold\">Pass Length:</span> <span className=\"text-right\">{hovered.pass_length.toFixed(2)}</span>\n              <span className=\"font-semibold\">Time to Throw:</span> <span className=\"text-right\">{hovered.time_to_throw.toFixed(2)}</span>\n              <span className=\"font-semibold\">Avg Def. Speed:</span> <span className=\"text-right\">{hovered.def_avg_speed.toFixed(2)}</span>\n            </div>\n          </div>\n        )}\n      </div>\n      <div className=\"w-full text-right mt-2 text-xs text-stone-400 font-mono\">\n         axis: league avg • node size: {sizeBy} • node color: {colorBy === 'none' ? 'performance delta' : colorBy}\n      </div>\n    </div>\n  );\n};\n\nexport default WRSeparationMap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}